"use strict";(self.webpackChunkperfect_taxi=self.webpackChunkperfect_taxi||[]).push([[8],{9630:(e,a,s)=>{s.r(a),s.d(a,{MyContext:()=>Z,default:()=>G});var i=s(9379),l=s(5043),t=s(3216),n=s(9942),r=s(579);const c=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"spinner-container",children:(0,r.jsx)("div",{className:"sloy",children:(0,r.jsx)("span",{className:"loader"})})})});var d=s(9722),o=s(5063);const m=()=>{const[e,a]=(0,l.useState)([]),[s,i]=(0,l.useState)(null),[t,m]=(0,l.useState)([]),[h,u]=(0,l.useState)(null);(0,l.useEffect)((()=>{if(!localStorage.getItem("token"))return;const e=new o.w3cwebsocket("wss://api.adataxi.uz/ws/driver/?token=".concat(localStorage.getItem("token")));i(e)}),[]),(0,l.useEffect)((()=>{navigator.geolocation.getCurrentPosition((e=>{const{latitude:a,longitude:s}=e.coords;u({lat:a,lng:s})})),d.A.get("https://api.adataxi.uz/api/v1/site/statistics/").then((e=>{a(e.data[0])}))}),[]),(0,l.useEffect)((()=>{s&&(s.onmessage=e=>{var a;const s=JSON.parse(e.data);if(-35===(null===(a=s.message)||void 0===a?void 0:a.code))return localStorage.removeItem("token"),localStorage.removeItem("userId"),void(window.location.pathname="/");"driver_location"===s.action&&m(s.message)})}),[s]);const{isLoaded:x}=(0,n.RH)({googleMapsApiKey:"AIzaSyBEN2azIRg6YCHa-tV8yAEUJoHsn__fRBM"}),v=(0,l.useMemo)((()=>({disableDefaultUI:!1,clickableIcons:!1})),[]),[g,j]=(0,l.useState)(null);if(!x)return(0,r.jsx)(c,{});const p={url:"./images/admin/driver-icon.png",scaledSize:{width:45,height:45}};return(0,r.jsxs)("div",{className:"admin-home-container",children:[(0,r.jsxs)("div",{className:"header-side",children:[(0,r.jsxs)("div",{className:"statistic-card",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{src:"./images/admin/driver.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Haydovchilar soni:"}),(0,r.jsx)("div",{className:"count",children:e.drivers})]}),(0,r.jsxs)("div",{className:"statistic-card",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{src:"./images/admin/user.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Mijozlar soni:"}),(0,r.jsx)("div",{className:"count",children:e.clients})]}),(0,r.jsxs)("div",{className:"statistic-card",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{src:"./images/admin/handshake.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"To'liq ro'yxatdan o'tgan haydovchilar:"}),(0,r.jsx)("div",{className:"count",children:e.avilable_drivers})]}),(0,r.jsxs)("div",{className:"statistic-card",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{src:"./images/admin/shopping-list.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Yakunlangan buyurtmalar soni:"}),(0,r.jsx)("div",{className:"count",children:e.rides})]})]}),(0,r.jsx)("div",{className:"map",children:(0,r.jsxs)(n.u6,{zoom:5,center:h,options:v,mapContainerClassName:"map-container",children:[t.filter((e=>{const a=Number(e.latitude),s=Number(e.longitude);return!isNaN(a)&&!isNaN(s)})).map(((e,a)=>(0,r.jsx)(n.X0,{position:{lat:Number(e.latitude),lng:Number(e.longitude)},icon:p,onClick:()=>{j(e)}},a))),g&&(0,r.jsx)(n.Fu,{position:{lat:Number(g.latitude),lng:Number(g.longitude)},onCloseClick:()=>{j(null)},children:(0,r.jsx)("div",{className:"info-box",children:(0,r.jsxs)("div",{className:"info-text",children:[(0,r.jsx)("span",{children:"Moshina raqam:"}),g.car_number," ",(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"Tel raqam:"}),g.phone_number]})})})]})})]})};var h=s(5475),u=s(4978),x=s(6644),v=s(4117);const g=()=>{const{t:e}=(0,v.Bd)();(0,l.useContext)(Z);const a=(0,t.Zp)(),[s,n]=(0,l.useState)(!1);(0,l.useEffect)((()=>{}),[]);const c=[{code:"uz",name:"O'zbek tili",country_code:"uz"},{code:"en",name:"English language",country_code:"en"},{code:"ru",name:"P\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",country_code:"ru"}];return(0,r.jsxs)("div",{className:"admin-home",children:[(0,r.jsxs)("div",{className:"left-box ".concat(s?"":"hide-left"),children:[(0,r.jsx)("div",{className:"logo ".concat(s?"":"hide-logo"),children:(0,r.jsx)("img",{onClick:()=>a("/"),src:"../images/logo2.png",alt:""})}),(0,r.jsx)("div",{className:"admin-navbar",children:[{name:"Dashboard",url:"/dashboard",img:"../images/admin/dashboard.png"},{name:"Haydovchilar",url:"/drivers",img:"../images/admin/driver.png"},{name:"Mijozlar",url:"/clients",img:"../images/admin/user.png"},{name:"Buyurtmalar",url:"/orders",img:"../images/admin/shopping-list.png"},{name:"Moshina brendi",url:"/car-brands",img:"../images/admin/car.png"},{name:"Moshina modeli",url:"/car-models",img:"../images/admin/car.png"},{name:"Ranglar",url:"/colors",img:"../images/admin/palette.png"},{name:"Narxlar",url:"/price",img:"../images/admin/price-list.png"},{name:"Qo'shimcha xizmatlar",url:"/extra-services",img:"../images/admin/technical-service.png"},{name:"Bekor qilish sababi",url:"/reject-reason",img:"../images/admin/rejected.png"},{name:"Balans",url:"/balance",img:"../images/admin/wallet.png"},{name:"To'lov tizimi",url:"/payment",img:"../images/admin/credit-card.png"},{name:"Yangiliklar",url:"/news",img:"../images/admin/megaphone.png"}].map(((e,a)=>(0,r.jsxs)(h.k2,{to:e.url,className:"nav-item ".concat((e=>{let{isActive:a}=e;return a?"active":""})),children:[(0,r.jsx)("img",{src:e.img,alt:""}),s?(0,r.jsx)("span",{children:e.name}):""]},a)))}),(0,r.jsx)("div",{onClick:()=>n(!s),className:"circle ".concat(s?"":"circle-rotate"),children:(0,r.jsx)("img",{src:"../images/admin/previous.png",alt:""})})]}),(0,r.jsxs)("div",{className:"right-box ".concat(s?"":"show-right"),children:[(0,r.jsxs)("div",{className:"top-box",children:[(0,r.jsx)("div",{className:"languge",children:(0,r.jsxs)(x.A,{children:[(0,r.jsxs)(x.A.Toggle,{variant:"success",id:"dropdown-basic",children:[(0,r.jsx)("img",{className:"globe",src:"./images/globe-alt.webp",alt:"language",loading:"lazy"}),(0,r.jsx)("div",{className:"name",children:c.map(((e,a)=>(0,r.jsx)("div",{children:u.Ay.language===e.code?e.name:""},a)))})]}),(0,r.jsx)(x.A.Menu,{children:c.map((e=>{let{code:a,name:s,country_code:i}=e;return(0,r.jsx)(x.A.Item,{onClick:()=>(e=>{localStorage.setItem("lng",e),u.Ay.changeLanguage(e)})(a),children:s},i)}))})]})}),(0,r.jsx)("div",{className:"title",children:(0,r.jsx)("img",{src:"./images/logo.png",alt:""})}),(0,r.jsx)("div",{className:"icons",children:(0,r.jsx)("div",{onClick:()=>{window.confirm("Rostdan ham profildan chiqmoqchimisz?")&&(window.location.pathname="/",localStorage.removeItem("admin"),localStorage.removeItem("token"))},className:"exit",children:(0,r.jsx)("img",{src:"./images/admin/logout.png",alt:""})})})]}),(0,r.jsx)("div",{className:"bottom-box",children:(0,r.jsx)(t.BV,{children:X.map(((e,a)=>(0,r.jsx)(t.qh,(0,i.A)({},e),a)))})})]})]})},j=(e,a)=>{(0,l.useEffect)((()=>{const s=s=>{s.key===a&&e()};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}}),[e,a])},p=()=>{let e=(0,l.useContext)(Z);const a=(0,t.Zp)(),[s,i]=(0,l.useState)(""),[n,c]=(0,l.useState)(""),o=()=>{if(s.trim().length>0&&n.trim().length>0){let a={username:s,password:n};d.A.post("".concat(e.url,"/dashboard/login/"),a).then((e=>{localStorage.setItem("admin",e.data.user),localStorage.setItem("token",e.data.token),window.location.pathname="/dashboard",localStorage.setItem("lng","uz")})).catch((e=>{var a;404===(null===(a=e.response)||void 0===a?void 0:a.status)&&alert("Bu foydalanuvchi topilmadi")}))}else alert("Formani to'ldiring")};return j(o,"Enter"),j((()=>{i(""),c("")}),"Delete"),(0,l.useEffect)((()=>{localStorage.getItem("admin")&&localStorage.getItem("token")&&a("/dashboard")})),(0,r.jsx)("div",{className:"login-container",children:(0,r.jsxs)("div",{className:"login-card",children:[(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("img",{src:"./images/logo.png",alt:""})}),(0,r.jsxs)("div",{className:"input_box",children:[(0,r.jsx)("input",{value:s,onChange:e=>i(e.target.value),placeholder:"Username",type:"text"}),(0,r.jsx)("input",{value:n,onChange:e=>c(e.target.value),placeholder:"Password",type:"password"})]}),(0,r.jsx)("div",{onClick:o,onKeyUp:()=>console.log("enter"),className:"btn-login",children:"Kirish"})]})})};var N=s(275),_=s(3892),b=s(5795),k=s(7561),A=s(9190),f=s(6979),C=s(6990),y=s(9859),z=s(3217),S=s(7517);const w=()=>(0,r.jsx)("div",{className:"loader-admin",children:(0,r.jsxs)("div",{className:"lds-spinner",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})});var q=s(6088);s(5694);const T=()=>{const{t:e}=(0,v.Bd)();let a=(0,l.useContext)(Z);const[s,t]=(0,l.useState)({show:!1,status:!1}),n=(0,l.useRef)(null),[c,o]=(0,l.useState)(""),[m,h]=(0,l.useState)(null),[x,g]=(0,l.useState)([]),[j,p]=(0,l.useState)([]),[T,R]=(0,l.useState)(""),[I,F]=(0,l.useState)(""),[M,B]=(0,l.useState)(!1),[W,E]=(0,l.useState)([]),[Q,L]=(0,l.useState)([]),[Y,H]=(0,l.useState)([]),[P,V]=(0,l.useState)("male"),[O,D]=(0,l.useState)(null),[J,K]=(0,l.useState)([]),[X,U]=(0,l.useState)([]),[G,$]=(0,l.useState)([]),[ee,ae]=(0,l.useState)([]),[se,ie]=(0,l.useState)([]),[le,te]=(0,l.useState)([]),[ne,re]=(0,l.useState)([]),[ce,de]=(0,l.useState)([]),[oe,me]=(0,l.useState)([]),[he,ue]=(0,l.useState)([]),[xe,ve]=(0,l.useState)([]),[ge,je]=(0,l.useState)(""),[pe,Ne]=(0,l.useState)(""),[_e,be]=(0,l.useState)(""),ke={PaperProps:{style:{maxHeight:224,width:250}}},[Ae,fe]=(0,l.useState)(""),[Ce,ye]=(0,l.useState)(!1),[ze,Se]=(0,l.useState)(""),we=(0,_.Wx)({initialValues:{phone:"",first_name:"",last_name:"",birth_date:"",car_number:"",car_color:"",car_make:"",car_model:"",extra_services:[],seat_count:"",from_region:"",to_region:""},validate:e=>{const a={};return e.first_name||(a.first_name="Required"),e.last_name||(a.last_name="Required"),e.phone||(a.phone="Required"),e.car_model||(a.car_model="Required"),e.car_color||(a.car_color="Required"),e.car_make||(a.car_make="Required"),e.car_number||(a.car_number="Required"),e.extra_services||(a.extra_services="Required"),e.seat_count||(a.seat_count="Required"),e.from_region||(a.from_region="Required"),e.to_region||(a.to_region="Required"),a},onSubmit:e=>{Ye()}}),[qe,Te]=(0,l.useState)([]),[Re,Ie]=(0,l.useState)(1),[Fe,Me]=(0,l.useState)({}),Be=[],We=qe.length;if(We<=7)Be.push(...qe.map(((e,a)=>a+1)));else{Be.push(1),Re>3&&Be.push("...");for(let e=Math.max(2,Re-1);e<=Math.min(We-1,Re+1);e++)Be.push(e);Re<We-2&&Be.push("..."),Be.push(We)}const Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;B(!0);const i=e||"".concat(a.url,"/dashboard/driver/?page=").concat(s);d.A.get(i,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{p(e.data.results),Me(e.data.links),Te(e.data.links.pages),Ie(s)})).finally((()=>{B(!1)}))};(0,l.useEffect)((()=>{Ee(),d.A.get("".concat(a.url,"/dashboard/carcategory/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{ue(e.data)})),d.A.get("".concat(a.url,"/dashboard/carservice/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{ve(e.data)})),d.A.get("".concat(a.url,"/dashboard/carmake/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{ie(e.data)})),d.A.get("".concat(a.url,"/dashboard/carcolor/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{re(e.data)})),d.A.get("".concat(a.url,"/dashboard/extraservices/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{me(e.data)})),d.A.get("".concat(a.url,"/dashboard/region/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{H(e.data)}))}),[]);const Qe=e=>{d.A.get("".concat(a.url,"/dashboard/carmake/").concat(e,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{te(e.data)}))},Le=e=>{const a=e.target.files[0];D(a)},Ye=()=>{const e=new FormData;let s={role:"driver",first_name:we.values.first_name,last_name:we.values.last_name,phone:we.values.phone,gender:P,is_verified:!0,is_confirmed:!0},i={car_make:we.values.car_make,car_model:we.values.car_model,car_color:we.values.car_color,car_number:we.values.car_number,seat_count:we.values.seat_count,birth_date:we.values.birth_date,extra_services:we.values.extra_services,from_region:we.values.from_region,to_region:we.values.to_region};for(let a in s)e.append(a,s[a]);for(let a in i)Array.isArray(i[a])?i[a].forEach((s=>{e.append("driver.".concat(a),s)})):e.append("driver.".concat(a),i[a]);O&&e.append("profile_image",O),T||d.A.post("".concat(a.url,"/dashboard/driver/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({status:"",show:!1}),Ee(),we.resetForm()})),T&&d.A.patch("".concat(a.url,"/dashboard/driver/").concat(T,"/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({status:"",show:!1}),Ee(null,Re),we.resetForm()}))},He=e=>{"block"===e&&(I.trim().length>0?d.A.post("".concat(a.url,"/dashboard/driver/block-driver/"),{driver_id:T,reason:I},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({status:"",show:!1}),Ee(null,Re),F("")})):alert("Bloklash sababini kiriting!")),"unblock"===e&&d.A.post("".concat(a.url,"/dashboard/driver/unblock-driver/"),{driver_id:T},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({status:"",show:!1}),Ee(null,Re),F("")}))},Pe=e=>{t({show:!0,status:"car-photos"}),R(e),d.A.post("".concat(a.url,"/dashboard/driver/car-images/"),{driver_id:e},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{U(e.data)})).catch((e=>{console.log(e)}))},Ve=e=>{t({show:!0,status:"car-docs"}),R(e),d.A.post("".concat(a.url,"/dashboard/driver/document-images/"),{driver_id:e},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{ae(e.data)}))},Oe=()=>{B(!0);d.A.get("".concat(a.url,"/dashboard/driver/?phone=").concat(c,"&status=").concat(Ae,"&from_region=").concat(ge,"&to_region=").concat(pe,"&car_categories=").concat(_e),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{p(e.data.results),Me(e.data.links),Te(e.data.links.pages),Ie(1)})).finally((()=>{B(!1)}))};var De,Je;return De=Oe,Je="Enter",(0,l.useEffect)((()=>{const e=e=>{e.key===Je&&De()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[De,Je]),(0,r.jsxs)("div",{className:"drivers-container",children:[(0,r.jsx)(N.A,{in:s.show,nodeRef:n,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,r.jsx)("div",{className:"modal-sloy",children:(0,r.jsxs)("div",{ref:n,className:"modal-card",children:["add-driver"===s.status&&(0,r.jsxs)("div",{className:"add-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{t({status:"",show:!1}),we.resetForm()},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Haydovchi qo'shish"}),(0,r.jsx)("div",{className:"title-form",children:"Haydovchi ma'lumotlari:"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsxs)("div",{className:"select-sides-file",children:[(0,r.jsx)("input",{onChange:Le,type:"file"}),(0,r.jsxs)("div",{className:"sloy-image ".concat(O?"active":""),children:["Profil rasmi",(0,r.jsx)("img",{src:"./images/admin/image.png",alt:""})]})]}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===we.errors.first_name,value:we.values.first_name,onChange:we.handleChange,name:"first_name",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Ism",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===we.errors.last_name,value:we.values.last_name,onChange:we.handleChange,name:"last_name",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Familiya",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===we.errors.phone,value:we.values.phone,onChange:we.handleChange,name:"phone",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Telefon raqam",variant:"outlined",className:"textField"})}),(0,r.jsxs)("div",{className:"select-sides-time",children:[(0,r.jsx)("label",{htmlFor:"",children:"Tug'ilgan sana:"}),(0,r.jsx)("input",{className:"working_time ".concat("Required"===we.errors.birth_date?"working_time_required":""),name:"birth_date",onChange:we.handleChange,value:we.values.birth_date,type:"date"})]}),(0,r.jsxs)("div",{className:"select-sides",children:[(0,r.jsx)("div",{className:"title-on",children:"Jinsi:"}),(0,r.jsxs)("div",{className:"on-of",children:[(0,r.jsx)("div",{onClick:()=>V("male"),className:"of ".concat("male"===P?"on":""),children:"Erkak"}),(0,r.jsx)("div",{onClick:()=>V("female"),className:"of ".concat("female"===P?"on":""),children:"Ayol"})]})]})]})]}),(0,r.jsx)("div",{className:"title-form",children:"Avtomobil ma'lumotlari:"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Avtomobil modeli"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.car_make,labelid:"demo-select-small-label",id:"demo-select-small",value:we.values.car_make,name:"car_make",label:"Avtomobil modeli",onChange:we.handleChange,children:se.map(((e,a)=>(0,r.jsx)(C.A,{onClick:()=>Qe(e.id),value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Avtomobil nomi"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.car_model,labelid:"demo-select-small-label",id:"demo-select-small",value:we.values.car_model,name:"car_model",label:"Avtomobil nomi",onChange:we.handleChange,children:le.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===we.errors.car_number,value:we.values.car_number,onChange:we.handleChange,name:"car_number",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Avtomobil raqami",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box ",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Avtomobil rangi"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.car_color,labelid:"demo-select-small-label",id:"demo-select-small",name:"car_color",label:"Avtomobil rangi",value:we.values.car_color,onChange:we.handleChange,children:ne.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:(0,r.jsx)(b.A,{id:"seat_count",name:"seat_count",label:"O\u2018rindiqlar soni",type:"number",value:we.values.seat_count,onChange:we.handleChange,error:we.touched.seat_count&&Boolean(we.errors.seat_count),helperText:we.touched.seat_count&&we.errors.seat_count,inputProps:{min:1},fullWidth:!0,size:"small"})})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,width:"100%"},className:"selectMui",size:"small",children:[(0,r.jsx)(A.A,{id:"demo-multiple-checkbox-label",children:"Xizmatlar"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.extra_services,name:"extra_services",labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:we.values.extra_services,onChange:e=>{const{value:a}=e.target;we.setFieldValue("extra_services","string"===typeof a?a.split(","):a)},input:(0,r.jsx)(y.A,{label:"Xizmatlar"}),renderValue:e=>e.map((e=>{const a=oe.find((a=>a.id===e));return a?a.translations[u.Ay.language].name:""})).join(", "),MenuProps:ke,children:oe.map((e=>(0,r.jsxs)(C.A,{value:e.id,children:[(0,r.jsx)(z.A,{checked:we.values.extra_services.includes(e.id)}),(0,r.jsx)(S.A,{primary:e.translations[u.Ay.language].name})]},e.id)))})]})})]})]}),(0,r.jsx)("div",{className:"title-form",children:"Asosan qaysi yo'nalishda harakat qilasiz:"}),(0,r.jsx)("div",{className:"form-container",children:(0,r.jsxs)("div",{className:"select-box start",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerdan"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.from_region,labelid:"demo-select-small-label",id:"demo-select-small",value:we.values.from_region,name:"from_region",label:"Qayerdan",onChange:we.handleChange,children:Y.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerga"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.to_region,labelid:"demo-select-small-label",id:"demo-select-small",value:we.values.to_region,name:"to_region",label:"Qayerga",onChange:we.handleChange,children:Y.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})})]})}),(0,r.jsx)("div",{onClick:()=>{we.handleSubmit()},className:"add-btn",children:(0,r.jsx)("img",{src:"./images/admin/add.png",alt:""})})]}),"driver-photo"===s.status&&(0,r.jsxs)("div",{className:"driver-photo",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>t({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"photo",children:(0,r.jsx)("img",{src:m,alt:""})})]}),"car-information"===s.status&&(0,r.jsxs)("div",{className:"car-information",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>t({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Avtomobil ma'lumotlari"}),x&&(0,r.jsxs)("div",{className:"information",children:[(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Tugilgan sanasi:"}),(0,r.jsx)("div",{className:"text",children:x.birth_date&&x.birth_date})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Jinsi:"}),(0,r.jsxs)("div",{className:"text",children:[x.user&&"male"===x.user.gender&&"Erkak",x.user&&"female"===x.user.gender&&"Ayol"]})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Reyting:"}),(0,r.jsx)("div",{className:"text",children:x.user&&x.user.rate})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"O'rindiqlar soni:"}),(0,r.jsx)("div",{className:"text",children:x.seat_count&&x.seat_count})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Yakunlagan buyurtmalar:"}),(0,r.jsx)("div",{className:"text",children:x.user&&x.user.finished_orders_count})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Qo'shimcha xizmatlar:"}),(0,r.jsx)("div",{className:"text",children:x.extra_services&&x.extra_services.map(((e,a)=>(0,r.jsxs)("span",{children:[e.translations[u.Ay.language].name,","]},a)))})]})]})]}),"blocked"===s.status&&(0,r.jsxs)("div",{className:"blocked",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{t({status:"",show:!1}),F("")},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Haydovchini bloklash"}),(0,r.jsxs)("div",{className:"reason-text",children:[(0,r.jsx)("textarea",{value:I,onChange:e=>F(e.target.value),placeholder:"Blok qilish sababini kiriting...",name:"reason",id:"reason"}),(0,r.jsxs)("div",{className:"buttons",children:[(0,r.jsx)("div",{onClick:()=>{He("unblock")},className:"cancel",children:"Bekor qilish"}),(0,r.jsx)("div",{onClick:()=>{He("block")},className:"success",children:"Bloklash"})]})]})]}),"edit-driver"===s.status&&(0,r.jsxs)("div",{className:"edit-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{t({status:"",show:!1}),we.resetForm()},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Haydovchi malumotlarini tahrirlash"}),(0,r.jsx)("div",{className:"title-form",children:"Haydovchi ma'lumotlari:"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsxs)("div",{className:"select-sides-file",children:[(0,r.jsx)("input",{onChange:Le,type:"file"}),(0,r.jsxs)("div",{className:"sloy-image ".concat(O?"active":""),children:["Profil rasmi",(0,r.jsx)("img",{src:"./images/admin/image.png",alt:""})]})]}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===we.errors.first_name,value:we.values.first_name,onChange:we.handleChange,name:"first_name",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Ism",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===we.errors.last_name,value:we.values.last_name,onChange:we.handleChange,name:"last_name",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Familiya",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===we.errors.phone,value:we.values.phone,onChange:we.handleChange,name:"phone",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Telefon raqam",variant:"outlined",className:"textField"})}),(0,r.jsxs)("div",{className:"select-sides-time",children:[(0,r.jsx)("label",{htmlFor:"",children:"Tug'ilgan sana:"}),(0,r.jsx)("input",{className:"working_time ".concat("Required"===we.errors.birth_date?"working_time_required":""),name:"birth_date",onChange:we.handleChange,value:we.values.birth_date,type:"date"})]}),(0,r.jsxs)("div",{className:"select-sides",children:[(0,r.jsx)("div",{className:"title-on",children:"Jinsi:"}),(0,r.jsxs)("div",{className:"on-of",children:[(0,r.jsx)("div",{onClick:()=>V("male"),className:"of ".concat("male"===P?"on":""),children:"Erkak"}),(0,r.jsx)("div",{onClick:()=>V("female"),className:"of ".concat("female"===P?"on":""),children:"Ayol"})]})]})]})]}),(0,r.jsx)("div",{className:"title-form",children:"Avtomobil ma'lumotlari:"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Avtomobil modeli"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.car_make,labelid:"demo-select-small-label",id:"demo-select-small",value:we.values.car_make,name:"car_make",label:"Avtomobil modeli",onChange:we.handleChange,children:se.map(((e,a)=>(0,r.jsx)(C.A,{onClick:()=>Qe(e.id),value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Avtomobil nomi"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.car_model,labelid:"demo-select-small-label",id:"demo-select-small",value:we.values.car_model,name:"car_model",label:"Avtomobil nomi",onChange:we.handleChange,children:le.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===we.errors.car_number,value:we.values.car_number,onChange:we.handleChange,name:"car_number",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Avtomobil raqami",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box ",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Avtomobil rangi"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.car_color,labelid:"demo-select-small-label",id:"demo-select-small",name:"car_color",label:"Avtomobil rangi",value:we.values.car_color,onChange:we.handleChange,children:ne.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:(0,r.jsx)(b.A,{id:"seat_count",name:"seat_count",label:"O\u2018rindiqlar soni",type:"number",value:we.values.seat_count,onChange:we.handleChange,error:we.touched.seat_count&&Boolean(we.errors.seat_count),helperText:we.touched.seat_count&&we.errors.seat_count,inputProps:{min:1},fullWidth:!0,size:"small"})})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,width:"100%"},className:"selectMui",size:"small",children:[(0,r.jsx)(A.A,{id:"demo-multiple-checkbox-label",children:"Xizmatlar"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.extra_services,name:"extra_services",labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:we.values.extra_services,onChange:e=>{const{value:a}=e.target;we.setFieldValue("extra_services","string"===typeof a?a.split(","):a)},input:(0,r.jsx)(y.A,{label:"Xizmatlar"}),renderValue:e=>e.map((e=>{const a=oe.find((a=>a.id===e));return a?a.translations[u.Ay.language].name:""})).join(", "),MenuProps:ke,children:oe.map((e=>(0,r.jsxs)(C.A,{value:e.id,children:[(0,r.jsx)(z.A,{checked:we.values.extra_services.includes(e.id)}),(0,r.jsx)(S.A,{primary:e.translations[u.Ay.language].name})]},e.id)))})]})})]})]}),(0,r.jsx)("div",{className:"title-form",children:"Asosan qaysi yo'nalishda harakat qilasiz:"}),(0,r.jsx)("div",{className:"form-container",children:(0,r.jsxs)("div",{className:"select-box start",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerdan"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.from_region,labelid:"demo-select-small-label",id:"demo-select-small",value:we.values.from_region,name:"from_region",label:"Qayerdan",onChange:we.handleChange,children:Y.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerga"}),(0,r.jsx)(f.A,{error:"Required"===we.errors.to_region,labelid:"demo-select-small-label",id:"demo-select-small",value:we.values.to_region,name:"to_region",label:"Qayerga",onChange:we.handleChange,children:Y.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})})]})}),(0,r.jsx)("div",{onClick:()=>{we.handleSubmit()},className:"add-btn",children:(0,r.jsx)("img",{src:"./images/admin/checkmark.png",alt:""})})]}),"driver-service"===s.status&&(0,r.jsxs)("div",{className:"driver-service",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>t({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsxs)("div",{className:"bottom-side",children:[(0,r.jsxs)("div",{className:"left-side",children:[(0,r.jsx)("div",{className:"title",children:"Yo'nalish"}),(0,r.jsx)("div",{className:"form-wrapper",children:xe.map(((e,a)=>(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{onChange:()=>{return a=e.id,void E((e=>e.includes(a)?e.filter((e=>e!==a)):[...e,a]));var a},checked:W.includes(e.id),type:"checkbox",name:"agree"}),e.translations[u.Ay.language].name]},a)))})]}),(0,r.jsxs)("div",{className:"right-side",children:[(0,r.jsx)("div",{className:"title",children:"Tariflar"}),(0,r.jsx)("div",{className:"form-wrapper",children:he.map(((e,a)=>(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{onChange:()=>{return a=e.id,void L((e=>e.includes(a)?e.filter((e=>e!==a)):[...e,a]));var a},checked:Q.includes(e.id),type:"checkbox",name:"agree"}),e.translations[u.Ay.language].name]},a)))})]})]}),(0,r.jsx)("div",{onClick:()=>{let e={driver_id:T,available_services:W,available_categories:Q};d.A.post("".concat(a.url,"/dashboard/driver/confirm-driver/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({status:"",show:!1}),p((e=>e.map((e=>e.id===T?(0,i.A)((0,i.A)({},e),{},{is_confirmed:!0}):e))))}))},className:"btn-success",children:"Tasdiqlash"})]}),"car-photos"===s.status&&(0,r.jsxs)("div",{className:"car-photos",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>t({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Avtomobil rasmlari"}),(0,r.jsxs)("div",{className:"form-wrapper",children:[X.map(((e,s)=>(0,r.jsxs)("div",{className:"photo",children:[(0,r.jsx)("img",{onClick:()=>{Se(e.image),setTimeout((()=>ye(!0)),100)},src:e.image,alt:"car-".concat(s)}),(0,r.jsx)("div",{className:"del-icon",onClick:()=>{return s=e.id,void d.A.post("".concat(a.url,"/dashboard/driver/delete-car-image/"),{driver_car_image:s},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{Pe(T)}));var s},children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:"delete"})})]},s))),J.map(((e,a)=>(0,r.jsxs)("div",{className:"photo",children:[(0,r.jsx)("img",{onClick:()=>{Se(e.preview),setTimeout((()=>ye(!0)),100)},src:e.preview,alt:"car-".concat(a)}),(0,r.jsx)("div",{className:"del-icon",onClick:()=>(e=>{K((a=>a.filter(((a,s)=>s!==e))))})(a),children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:"delete"})})]},a))),(0,r.jsxs)("div",{className:"add-icon",children:[(0,r.jsx)("input",{onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{K((s=>[...s,{preview:e.result,file:a}]))},e.readAsDataURL(a)}e.target.value=null},type:"file"}),(0,r.jsx)("img",{src:"./images/admin/image.png",alt:""})]})]}),(0,r.jsx)("div",{onClick:()=>{const e=new FormData;e.append("driver",T),J.forEach(((a,s)=>{e.append("car_images",a.file)})),d.A.post("".concat(a.url,"/dashboard/driver/update-image/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({status:"",show:!1}),K([])}))},className:"btn-success",children:"Tasdiqlash"})]}),"car-docs"===s.status&&(0,r.jsxs)("div",{className:"car-docs",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>t({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Xujjatlar rasmlari"}),(0,r.jsxs)("div",{className:"form-wrapper",children:[ee.map(((e,s)=>(0,r.jsxs)("div",{className:"photo",children:[(0,r.jsx)("img",{onClick:()=>{Se(e.image),setTimeout((()=>ye(!0)),100)},src:e.image,alt:"car-".concat(s)}),(0,r.jsx)("div",{className:"del-icon",onClick:()=>{return s=e.id,void d.A.post("".concat(a.url,"/dashboard/driver/delete-document-image/"),{driver_document_image:s},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{Ve(T)}));var s},children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:"delete"})})]},s))),G.map(((e,a)=>(0,r.jsxs)("div",{className:"photo",children:[(0,r.jsx)("img",{onClick:()=>{Se(e.preview),setTimeout((()=>ye(!0)),100)},src:e.preview,alt:"car-".concat(a)}),(0,r.jsx)("div",{className:"del-icon",onClick:()=>(e=>{$((a=>a.filter(((a,s)=>s!==e))))})(a),children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:"delete"})})]},a))),(0,r.jsxs)("div",{className:"add-icon",children:[(0,r.jsx)("input",{onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{$((s=>[...s,{preview:e.result,file:a}]))},e.readAsDataURL(a)}e.target.value=null},type:"file"}),(0,r.jsx)("img",{src:"./images/admin/image.png",alt:""})]})]}),(0,r.jsx)("div",{onClick:()=>{const e=new FormData;e.append("driver",T),G.forEach(((a,s)=>{e.append("document_images",a.file)})),d.A.post("".concat(a.url,"/dashboard/driver/update-image/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({status:"",show:!1}),K([]),$([])}))},className:"btn-success",children:"Tasdiqlash"})]})]})})}),Ce&&(0,r.jsx)(q.A,{mainSrc:ze,onCloseRequest:()=>ye(!1)}),(0,r.jsxs)("div",{className:"header",children:[(0,r.jsxs)("div",{className:"left-side",children:[(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("img",{src:"./images/admin/search.png",alt:""}),(0,r.jsx)("input",{value:c,onChange:e=>o(e.target.value),placeholder:"Telefon raqam kiriting",type:"text"}),c&&(0,r.jsx)("img",{style:{cursor:"pointer"},onClick:()=>o(""),src:"./images/close.png",alt:"close"})]}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"confirm-filter-label",children:"Holat"}),(0,r.jsxs)(f.A,{labelId:"confirm-filter-label",id:"confirm-filter",value:Ae,label:"Holat",onChange:e=>fe(e.target.value),children:[(0,r.jsx)(C.A,{value:"",children:"Barchasi"}),(0,r.jsx)(C.A,{value:"1",children:"Tasdiqlangan"}),(0,r.jsx)(C.A,{value:"0",children:"Tasdiqlanmagan"})]})]})})]}),(0,r.jsxs)("div",{className:"filter-wrapper",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Tarif"}),(0,r.jsxs)(f.A,{labelid:"demo-select-small-label",id:"demo-select-small",value:_e,label:"Tarif",name:"car_categories",onChange:e=>be(e.target.value),children:[(0,r.jsx)(C.A,{value:"",children:"-- Barchasi --"}),he.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))]})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerdan"}),(0,r.jsxs)(f.A,{labelid:"demo-select-small-label",id:"demo-select-small",value:ge,label:"Qayerdan",name:"from",onChange:e=>je(e.target.value),children:[(0,r.jsx)(C.A,{value:"",children:"-- Barchasi --"}),Y.map(((e,a)=>(0,r.jsx)(C.A,{value:e.code,children:e.translations[u.Ay.language].name},a)))]})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerga"}),(0,r.jsxs)(f.A,{labelid:"demo-select-small-label",id:"demo-select-small",value:pe,label:"Qayerga",name:"to",onChange:e=>Ne(e.target.value),children:[(0,r.jsx)(C.A,{value:"",children:"-- Barchasi --"}),Y.map(((e,a)=>(0,r.jsx)(C.A,{value:e.code,children:e.translations[u.Ay.language].name},a)))]})]})})]}),(0,r.jsx)("div",{className:"rigt-side",children:(0,r.jsx)("div",{className:"update-driver",children:(0,r.jsx)("img",{onClick:Oe,src:"./images/admin/panel.png",alt:"changes"})})})]}),(0,r.jsxs)("div",{className:"header",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{className:"rigt-side",children:(0,r.jsx)("div",{onClick:()=>{t({show:!0,status:"add-driver"})},className:"add-driver-btn",children:"Haydovchi qo'shish"})})]}),M?(0,r.jsx)(w,{}):(0,r.jsx)("div",{className:"table-wrapper",children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u2116"}),(0,r.jsx)("th",{children:"Haydovchi haqida"}),(0,r.jsx)("th",{children:"Ro'yxatdan o'tgan sanasi"}),(0,r.jsx)("th",{children:"Yo'nalish"}),(0,r.jsx)("th",{children:"Mashina"}),(0,r.jsx)("th",{children:"Mashina raqami"}),(0,r.jsx)("th",{children:"Moshina ma'lumotlari"}),(0,r.jsx)("th",{children:"Moshina rasmlari"}),(0,r.jsx)("th",{children:"Dokument rasmlari"}),(0,r.jsx)("th",{children:"Tasdiqlash"}),(0,r.jsx)("th",{children:"Bloklash"}),(0,r.jsx)("th",{children:"O'chirish"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:j.map(((e,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:s+1}),(0,r.jsxs)("td",{className:"driver-wrapper",children:[(0,r.jsx)("div",{className:"icon-driver",children:(0,r.jsx)("img",{onClick:()=>{t({show:!0,status:"driver-photo"}),h(e.profile_image)},src:e.profile_image,alt:""})}),(0,r.jsxs)("div",{className:"text-driver",children:[(0,r.jsx)("div",{className:"name",children:e.user_name&&e.user_name}),(0,r.jsx)("div",{className:"phone",children:e.phone&&e.phone})]})]}),(0,r.jsx)("td",{children:e.created_at}),(0,r.jsxs)("td",{children:[e.from_region&&e.from_region.translations[u.Ay.language].name,"--",e.to_region&&e.to_region.translations[u.Ay.language].name]}),(0,r.jsxs)("td",{children:[e.car_color&&e.car_color.translations[u.Ay.language].name,"\xa0",e.car_make&&e.car_make.translations[u.Ay.language].name," \xa0",e.car_model&&e.car_model.translations[u.Ay.language].name]}),(0,r.jsx)("td",{children:e.car_number&&e.car_number}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{onClick:()=>{return s=e.id,t({show:!0,status:"car-information"}),void d.A.get("".concat(a.url,"/dashboard/driver/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{g(e.data)}));var s},src:"./images/admin/sport-car.png",alt:""})})}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{onClick:()=>Pe(e.id),src:"./images/admin/car-photo.png",alt:""})})}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{onClick:()=>Ve(e.id),src:"./images/admin/document.png",alt:""})})}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:e.is_confirmed?"icon-check":"icon-check disablet",children:(0,r.jsx)("img",{onClick:()=>{t({show:!0,status:"driver-service"}),R(e.id),E(e.available_services),L(e.available_categories)},src:"./images/admin/varify.png",alt:"varify"})})}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:e.is_block?"icon-check":"icon-check disablet",children:[(0,r.jsx)("img",{onClick:()=>{t({show:!0,status:"blocked"}),e.is_block&&F(e.reason),R(e.id)},src:"./images/admin/block.png",alt:"block"}),e.reason&&e.is_block&&(0,r.jsxs)("div",{className:"reason-block",children:[(0,r.jsx)("img",{src:"./images/admin/warning.png",alt:""}),(0,r.jsx)("div",{className:"text",children:e.reason})]})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{onClick:()=>{return s=e.id,B(!0),void(window.confirm("Rostdan ham ushbu haydovchini o\u2018chirmoqchimisiz?")?d.A.delete("".concat(a.url,"/dashboard/driver/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{Ee(null,Re)})).catch((e=>{console.log(e)})).finally((()=>{B(!1)})):B(!1));var s},src:"./images/admin/delete.png",alt:""})})}),(0,r.jsx)("td",{}),(0,r.jsx)("div",{className:"edit-icon",children:(0,r.jsx)("img",{onClick:()=>{var s;t({show:!0,status:"edit-driver"}),s=e.id,d.A.get("".concat(a.url,"/dashboard/driver/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{we.setValues({phone:e.data.user.phone,first_name:e.data.user.first_name,last_name:e.data.user.last_name,birth_date:e.data.birth_date,car_number:e.data.car_number,car_color:e.data.car_color&&e.data.car_color.id,car_make:e.data.car_make&&e.data.car_make.id,car_model:e.data.car_model&&e.data.car_model.id,extra_services:e.data.extra_services.length>0?e.data.extra_services.map((e=>e.id)):[],seat_count:e.data.seat_count,from_region:e.data.from_region&&e.data.from_region.id,to_region:e.data.to_region&&e.data.to_region.id}),V(e.data.user.gender),e.data.car_make&&Qe(e.data.car_make.id)})),R(s)},src:"./images/admin/edit-tools.png",alt:""})})]},s)))})]})}),(0,r.jsxs)("div",{className:"pagination",children:[(0,r.jsx)("div",{onClick:()=>{Re>1&&Ee(Fe.previous,Re-1)},className:"prev",children:(0,r.jsx)("img",{src:"./images/admin/prev.png",alt:"Prev"})}),Be.map(((e,a)=>(0,r.jsx)("div",{onClick:()=>{if("..."!==e){const a=e,s=qe.find((e=>e[a])),i=s?s[a]:null;Ee(i,e)}},className:"items ".concat(Re===e?"active":""," "),style:{cursor:"..."===e?"default":"pointer"},children:e},a))),(0,r.jsx)("div",{className:"next",onClick:()=>{Re<We&&Ee(Fe.next,Re+1)},children:(0,r.jsx)("img",{src:"./images/admin/next.png",alt:"Next"})})]})]})},R=()=>{let e=(0,l.useContext)(Z);const a=(0,l.useRef)(null),[s,i]=(0,l.useState)([]),[t,n]=(0,l.useState)(),[c,o]=(0,l.useState)(null),[m,h]=(0,l.useState)(""),[u,x]=(0,l.useState)("");(0,l.useEffect)((()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight),d.A.get("".concat(e.url,"/dashboard/admin-chat/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i(e.data)}))}));return(0,r.jsxs)("div",{className:"chat-driver",children:[(0,r.jsxs)("div",{className:"left",children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("img",{src:"./images/admin/search.png",alt:""}),(0,r.jsx)("input",{value:u,onChange:e=>x(e.target.value),placeholder:"Telefon raqam kiriting",type:"text"})]})}),(0,r.jsx)("div",{className:"drivers-box",children:s.filter((e=>{const a=u.toString().toLowerCase().replace(/\s+/g,"").replace(/\+/g,""),s=e.user_phone.toString().toLowerCase().replace(/\s+/g,"").replace(/\+/g,"");return""===a||s.includes(a)})).map(((a,s)=>(0,r.jsxs)("div",{className:"driver ".concat(c&&c.id===a.id?"active":""),children:[(0,r.jsx)("div",{className:"photo",children:(0,r.jsx)("img",{src:"./images/admin/user2.png",alt:""})}),(0,r.jsxs)("div",{onClick:()=>(a=>{o(a),d.A.get("".concat(e.url,"/dashboard/admin-chat/").concat(a.id,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{n(e.data)}))})(a),className:"left-content",children:[(0,r.jsx)("div",{className:"name",children:a.title}),(0,r.jsx)("div",{className:"number",children:a.user_phone})]}),(0,r.jsxs)("div",{className:"buttons",children:[(0,r.jsx)("img",{onClick:()=>{return s=a.id,void d.A.post("".concat(e.url,"/dashboard/admin-chat/close/"),{chat_id:s},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((a=>{d.A.get("".concat(e.url,"/dashboard/admin-chat/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i(e.data)}))}));var s},className:a.closed?"closed":"disabled",src:"./images/admin/check.png",alt:"check"}),(0,r.jsx)("img",{onClick:()=>{return s=a.id,void d.A.delete("".concat(e.url,"/dashboard/admin-chat/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((a=>{o(null),d.A.get("".concat(e.url,"/dashboard/admin-chat/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i(e.data)}))}));var s},src:"./images/admin/delete.png",alt:"delete"})]})]},s)))})]}),c&&(0,r.jsxs)("div",{className:"right",children:[(0,r.jsxs)("div",{className:"top",children:[(0,r.jsx)("div",{className:"photo",children:(0,r.jsx)("img",{src:"./images/admin/user2.png",alt:""})}),(0,r.jsxs)("div",{className:"left-content",children:[(0,r.jsx)("div",{className:"name",children:c&&c.title}),(0,r.jsx)("div",{className:"number",children:c&&c.user_phone})]})]}),(0,r.jsx)("div",{ref:a,className:"body",children:(0,r.jsx)("div",{className:"scroll",children:t&&t.map(((e,a)=>(0,r.jsx)("div",{className:e.author&&e.author.is_admin?"message-my":"message-driver",children:(0,r.jsxs)("div",{className:"message",children:[e.author&&(0,r.jsxs)("div",{className:"name",children:[e.author.first_name," \u2002",e.author.last_name]}),e.message,(0,r.jsx)("div",{className:"time",children:e.time})]})},a)))})}),(0,r.jsxs)("div",{className:"bottom",children:[(0,r.jsx)("input",{value:m,onChange:e=>h(e.target.value),placeholder:"Xabar...",type:"text"}),(0,r.jsx)("div",{onClick:()=>{let a={room:c.id,message:m};d.A.post("".concat(e.url,"/dashboard/admin-message/"),a,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((a=>{h(""),d.A.get("".concat(e.url,"/dashboard/admin-chat/").concat(c.id,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{n(e.data)}))}))},className:"icon-send",children:(0,r.jsx)("img",{src:"./images/admin/message.png",alt:""})})]})]})]})},I=()=>{const{t:e}=(0,v.Bd)();let a=(0,l.useContext)(Z);const[s,i]=(0,l.useState)({show:!1,status:!1}),t=(0,l.useRef)(null),[n,c]=(0,l.useState)("male"),[o,m]=(0,l.useState)(""),[h,u]=(0,l.useState)(null),[x,g]=(0,l.useState)([]),[j,p]=(0,l.useState)(""),[k,A]=(0,l.useState)(""),[f,C]=(0,l.useState)(null),[y,z]=(0,l.useState)(!1),[S,q]=(0,l.useState)({}),[T,R]=(0,l.useState)([]),[I,F]=(0,l.useState)(1),M=[],B=T.length;if(B<=7)M.push(...T.map(((e,a)=>a+1)));else{M.push(1),I>3&&M.push("...");for(let e=Math.max(2,I-1);e<=Math.min(B-1,I+1);e++)M.push(e);I<B-2&&M.push("..."),M.push(B)}const W=(0,_.Wx)({initialValues:{first_name:"",last_name:"",phone:""},validate:e=>{const a={};return e.first_name||(a.first_name="Required"),e.last_name||(a.last_name="Required"),e.phone||(a.phone="Required"),a},onSubmit:e=>{L()}});(0,l.useEffect)((()=>{E()}),[]);const E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;z(!0);const i=e||"".concat(a.url,"/dashboard/client/?page=").concat(s);d.A.get(i,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{g(e.data.results),console.log(e.data.results),q(e.data.links),R(e.data.links.pages),F(s)})).finally((()=>{z(!1)}))},Q=e=>{const a=e.target.files[0];C(a)},L=()=>{const e=new FormData;let s={role:"client",first_name:W.values.first_name,last_name:W.values.last_name,phone:W.values.phone,gender:n};for(let a in s)e.append(a,s[a]);f&&e.append("profile_image",f),j||d.A.post("".concat(a.url,"/dashboard/client/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i({status:"",show:!1}),E(null,I),W.resetForm()})),j&&d.A.patch("".concat(a.url,"/dashboard/client/").concat(j,"/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i({status:"",show:!1}),E(null,I),W.resetForm()}))},Y=e=>{"block"===e&&k.trim().length>0?d.A.post("".concat(a.url,"/dashboard/client/block-client/"),{client_id:j,reason:k},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i({status:"",show:!1}),E(null,I),A("")})):alert("Bloklash sababini kiriting!"),"unblock"===e&&d.A.post("".concat(a.url,"/dashboard/client/unblock-client/"),{client_id:j},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i({status:"",show:!1}),E(null,I)}))};return(0,r.jsxs)("div",{className:"clients-container",children:[(0,r.jsx)(N.A,{in:s.show,nodeRef:t,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,r.jsx)("div",{className:"modal-sloy",children:(0,r.jsxs)("div",{ref:t,className:"modal-card",children:["add-driver"===s.status&&(0,r.jsxs)("div",{className:"add-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{i({status:"",show:!1}),W.resetForm()},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Mijoz qo'shish"}),(0,r.jsx)("div",{className:"title-form",children:"Mijoz ma'lumotlari:"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsxs)("div",{className:"select-sides-file",children:[(0,r.jsx)("input",{onChange:Q,type:"file"}),(0,r.jsxs)("div",{className:"sloy-image ".concat(f?"active":""),children:["Profil rasmi",(0,r.jsx)("img",{src:"./images/admin/image.png",alt:""})]})]}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===W.errors.phone,value:W.values.phone,onChange:W.handleChange,name:"phone",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Telefon raqam",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===W.errors.first_name,value:W.values.first_name,onChange:W.handleChange,name:"first_name",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Ism",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===W.errors.last_name,value:W.values.last_name,onChange:W.handleChange,name:"last_name",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Familiya",variant:"outlined",className:"textField"})})]}),(0,r.jsx)("div",{className:"select-box",children:(0,r.jsxs)("div",{className:"select-sides",children:[(0,r.jsx)("div",{className:"title-on",children:"Jinsi:"}),(0,r.jsxs)("div",{className:"on-of",children:[(0,r.jsx)("div",{onClick:()=>c("male"),className:"of ".concat("male"===n?"on":""),children:"Erkak"}),(0,r.jsx)("div",{onClick:()=>c("female"),className:"of ".concat("female"===n?"on":""),children:"Ayol"})]})]})})]}),(0,r.jsx)("div",{onClick:()=>{W.handleSubmit()},className:"add-btn",children:"Qo'shish"})]}),"driver-photo"===s.status&&(0,r.jsxs)("div",{className:"driver-photo",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>i({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"photo",children:(0,r.jsx)("img",{src:h,alt:""})})]}),"blocked"===s.status&&(0,r.jsxs)("div",{className:"blocked",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{i({status:"",show:!1}),A("")},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Haydovchini bloklash"}),(0,r.jsxs)("div",{className:"reason-text",children:[(0,r.jsx)("textarea",{value:k,onChange:e=>A(e.target.value),placeholder:"Blok qilish sababini kiriting...",name:"reason",id:"reason"}),(0,r.jsxs)("div",{className:"buttons",children:[(0,r.jsx)("div",{onClick:()=>{Y("unblock")},className:"cancel",children:"Bekor qilish"}),(0,r.jsx)("div",{onClick:()=>{Y("block")},className:"success",children:"Bloklash"})]})]})]}),"edit-driver"===s.status&&(0,r.jsxs)("div",{className:"edit-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{i({status:"",show:!1}),W.resetForm()},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Mijoz ma'lumotlarini tahrirlash"}),(0,r.jsx)("div",{className:"title-form",children:"Mijoz ma'lumotlari:"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsxs)("div",{className:"select-sides-file",children:[(0,r.jsx)("input",{onChange:Q,type:"file"}),(0,r.jsxs)("div",{className:"sloy-image ".concat(f?"active":""),children:["Profil rasmi",(0,r.jsx)("img",{src:"./images/admin/image.png",alt:""})]})]}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===W.errors.phone,value:W.values.phone,onChange:W.handleChange,name:"phone",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Telefon raqam",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===W.errors.first_name,value:W.values.first_name,onChange:W.handleChange,name:"first_name",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Ism",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===W.errors.last_name,value:W.values.last_name,onChange:W.handleChange,name:"last_name",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Familiya",variant:"outlined",className:"textField"})})]}),(0,r.jsx)("div",{className:"select-box",children:(0,r.jsxs)("div",{className:"select-sides",children:[(0,r.jsx)("div",{className:"title-on",children:"Jinsi:"}),(0,r.jsxs)("div",{className:"on-of",children:[(0,r.jsx)("div",{onClick:()=>c("male"),className:"of ".concat("male"===n?"on":""),children:"Erkak"}),(0,r.jsx)("div",{onClick:()=>c("female"),className:"of ".concat("female"===n?"on":""),children:"Ayol"})]})]})})]}),(0,r.jsx)("div",{onClick:()=>{W.handleSubmit()},className:"add-btn",children:"Saqlash"})]})]})})}),(0,r.jsxs)("div",{className:"header",children:[(0,r.jsxs)("div",{className:"left-side",children:[(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("img",{src:"./images/admin/find-person.png",alt:""}),(0,r.jsx)("input",{value:o,onChange:e=>m(e.target.value),placeholder:"Telefon raqam kiriting",type:"text"}),o&&(0,r.jsx)("img",{style:{cursor:"pointer"},onClick:()=>m(""),src:"./images/close.png",alt:"close"})]}),(0,r.jsx)("div",{className:"update-driver",children:(0,r.jsx)("img",{onClick:()=>{z(!0);d.A.get("".concat(a.url,"/dashboard/client/?phone=").concat(o),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{g(e.data.results),q(e.data.links),R(e.data.links.pages),F(1)})).finally((()=>{z(!1)}))},src:"./images/admin/panel.png",alt:"changes"})})]}),(0,r.jsx)("div",{onClick:()=>{i({show:!0,status:"add-driver"})},className:"add-driver-btn",children:"Mijoz qo'shish"})]}),(0,r.jsx)("div",{className:"table-wrapper",children:y?(0,r.jsx)(w,{}):(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u2116"}),(0,r.jsx)("th",{children:"Mijoz haqida"}),(0,r.jsx)("th",{children:"Telefon raqam"}),(0,r.jsx)("th",{children:"Bonuslar"}),(0,r.jsx)("th",{children:"Jinsi"}),(0,r.jsx)("th",{children:"Bloklash"}),(0,r.jsx)("th",{children:"O'chirish"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:x.map(((e,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:s+1}),(0,r.jsxs)("td",{className:"driver-wrapper",children:[(0,r.jsx)("div",{className:"icon-driver",children:(0,r.jsx)("img",{onClick:()=>{i({show:!0,status:"driver-photo"}),u(e.profile_image)},src:e.profile_image,alt:""})}),(0,r.jsx)("div",{className:"text-driver",children:(0,r.jsxs)("div",{className:"name",children:[e.first_name," \xa0",e.last_name]})})]}),(0,r.jsx)("td",{children:e.phone}),(0,r.jsx)("td",{children:e.discount_count}),(0,r.jsx)("td",{children:e.gender}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:e.is_block?"icon-check":"icon-check disablet",children:[(0,r.jsx)("img",{onClick:()=>{i({show:!0,status:"blocked"}),e.is_block&&A(e.reason),p(e.id)},src:"./images/admin/block.png",alt:"block"}),e.reason&&e.is_block&&(0,r.jsxs)("div",{className:"reason-block",children:[(0,r.jsx)("img",{src:"./images/admin/warning.png",alt:""}),(0,r.jsx)("div",{className:"text",children:e.reason})]})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{onClick:()=>{return s=e.id,z(!0),void(window.confirm("Rostdan ham ushbu mijozni o\u2018chirmoqchimisiz?")?d.A.delete("".concat(a.url,"/dashboard/client/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{E(null,I)})).catch((e=>{console.log(e)})).finally((()=>{z(!1)})):z(!1));var s},src:"./images/admin/delete.png",alt:""})})}),(0,r.jsx)("td",{}),(0,r.jsx)("div",{className:"edit-icon",children:(0,r.jsx)("img",{onClick:()=>{var a;i({show:!0,status:"edit-driver"}),a=e,W.setValues({first_name:a.first_name,last_name:a.last_name,phone:a.phone}),c(a.gender),p(a.id)},src:"./images/admin/edit-tools.png",alt:""})})]},s)))})]})}),(0,r.jsxs)("div",{className:"pagination",children:[(0,r.jsx)("div",{onClick:()=>{I>1&&E(S.previous,I-1)},className:"prev",children:(0,r.jsx)("img",{src:"./images/admin/prev.png",alt:"Prev"})}),M.map(((e,a)=>(0,r.jsx)("div",{onClick:()=>{if("..."!==e){const a=e,s=T.find((e=>e[a])),i=s?s[a]:null;E(i,e)}},className:"items ".concat(I===e?"active":""," "),style:{cursor:"..."===e?"default":"pointer"},children:e},a))),(0,r.jsx)("div",{className:"next",onClick:()=>{I<B&&E(S.next,I+1)},children:(0,r.jsx)("img",{src:"./images/admin/next.png",alt:"Next"})})]})]})},F=()=>{const{t:e}=(0,v.Bd)();let a=(0,l.useContext)(Z);const[s,t]=(0,l.useState)({name_uz:"",name_ru:"",name_en:""}),[n,c]=(0,l.useState)([]),[o,m]=(0,l.useState)(!1),[h,x]=(0,l.useState)(""),g=()=>{d.A.get("".concat(a.url,"/dashboard/carcolor/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{c(e.data)}))};(0,l.useEffect)((()=>{g()}),[]);const j=e=>{const{name_uz:i,name_ru:l,name_en:n}=s;if(!(i.trim()&&l.trim()&&n.trim()))return void alert("Iltimos, rang nomini kiriting");const r={uz:{name:i.trim()},ru:{name:l.trim()},en:{name:n.trim()}};"add"===e&&d.A.post("".concat(a.url,"/dashboard/carcolor/"),{translations:r},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({name_uz:"",name_ru:"",name_en:""}),g()})).catch((e=>{console.error("Rang qo'shishda xatolik:",e)})),"edit"===e&&d.A.put("".concat(a.url,"/dashboard/carcolor/").concat(h,"/"),{translations:r},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({name_uz:"",name_ru:"",name_en:""}),g(),m(!1)})).catch((e=>{console.error("Rangni tahrirlashda xatolik:",e)}))};return(0,r.jsxs)("div",{className:"colors-wrapper",children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"form-wrapper",children:[(0,r.jsx)("input",{value:s.name_uz,onChange:e=>t((0,i.A)((0,i.A)({},s),{},{name_uz:e.target.value})),placeholder:"Rangi nomi (uz)...",type:"text"}),(0,r.jsx)("input",{value:s.name_en,onChange:e=>t((0,i.A)((0,i.A)({},s),{},{name_en:e.target.value})),placeholder:"Color name (en)...",type:"text"}),(0,r.jsx)("input",{value:s.name_ru,onChange:e=>t((0,i.A)((0,i.A)({},s),{},{name_ru:e.target.value})),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0446\u0432\u0435\u0442\u0430 (ru)...",type:"text"}),o?(0,r.jsx)("div",{onClick:()=>j("edit"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/checkmark.png",alt:""})}):(0,r.jsx)("div",{onClick:()=>j("add"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/add.png",alt:""})})]})}),(0,r.jsx)("div",{className:"colors-cards",children:(0,r.jsx)("div",{className:"wrapper-box",children:n.map(((e,s)=>(0,r.jsxs)("div",{className:"color-card",children:[(0,r.jsx)("div",{className:"name",children:e.translations[u.Ay.language].name}),(0,r.jsxs)("div",{className:"bttons",children:[(0,r.jsx)("div",{onClick:()=>(e=>{m(!0),x(e.id),t({name_uz:e.translations.uz.name||"",name_ru:e.translations.ru.name||"",name_en:e.translations.en.name||""})})(e),className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/edit-tools.png",alt:""})}),(0,r.jsx)("div",{onClick:()=>{return s=e.id,void d.A.delete("".concat(a.url,"/dashboard/carcolor/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t({name_uz:"",name_ru:"",name_en:""}),g(),m(!1)}));var s},className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:""})})]})]},s)))})})]})},M=()=>{const{t:e}=(0,v.Bd)();let a=(0,l.useContext)(Z);const[s,t]=(0,l.useState)([]),[n,c]=(0,l.useState)(!1),[o,m]=(0,l.useState)(""),[h,x]=(0,l.useState)({name_uz:"",name_ru:"",name_en:""}),g=()=>{d.A.get("".concat(a.url,"/dashboard/carmake/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t(e.data)}))};(0,l.useEffect)((()=>{g()}),[]);const j=e=>{const{name_uz:s,name_ru:i,name_en:l}=h;if(!(s.trim()&&i.trim()&&l.trim()))return void alert("Iltimos, brend nomini kiriting");const t={uz:{name:s.trim()},ru:{name:i.trim()},en:{name:l.trim()}};"add"===e&&d.A.post("".concat(a.url,"/dashboard/carmake/"),{translations:t},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{x({name_uz:"",name_ru:"",name_en:""}),g()})).catch((e=>{console.error("Brend qo'shishda xatolik:",e)})),"edit"===e&&d.A.put("".concat(a.url,"dashboard/carmake/").concat(o,"/"),{translations:t},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{x({name_uz:"",name_ru:"",name_en:""}),g(),c(!1)})).catch((e=>{console.error("Brendni tahrirlashda xatolik:",e)}))};return(0,r.jsxs)("div",{className:"car-brand-wrapper",children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"form-wrapper",children:[(0,r.jsx)("input",{value:h.name_uz,onChange:e=>x((0,i.A)((0,i.A)({},h),{},{name_uz:e.target.value})),placeholder:"Brend nomi (uz)...",type:"text"}),(0,r.jsx)("input",{value:h.name_en,onChange:e=>x((0,i.A)((0,i.A)({},h),{},{name_en:e.target.value})),placeholder:"Brand name (en)...",type:"text"}),(0,r.jsx)("input",{value:h.name_ru,onChange:e=>x((0,i.A)((0,i.A)({},h),{},{name_ru:e.target.value})),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0440\u0435\u043d\u0434\u0430 (ru)...",type:"text"}),n?(0,r.jsx)("div",{onClick:()=>j("edit"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/checkmark.png",alt:""})}):(0,r.jsx)("div",{onClick:()=>j("add"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/add.png",alt:""})})]})}),(0,r.jsx)("div",{className:"colors-cards",children:(0,r.jsx)("div",{className:"wrapper-box",children:s.map(((e,s)=>(0,r.jsxs)("div",{className:"color-card",children:[(0,r.jsx)("div",{className:"name",children:e.translations[u.Ay.language].name}),(0,r.jsxs)("div",{className:"bttons",children:[(0,r.jsx)("div",{onClick:()=>(e=>{c(!0),m(e.id),x({name_uz:e.translations.uz.name||"",name_ru:e.translations.ru.name||"",name_en:e.translations.en.name||""})})(e),className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/edit-tools.png",alt:""})}),(0,r.jsx)("div",{onClick:()=>{return s=e.id,void d.A.delete("".concat(a.url,"/dashboard/carmake/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{x({name_uz:"",name_ru:"",name_en:""}),g(),c(!1)}));var s},className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:""})})]})]},s)))})})]})};var B=s(2157),W=s.n(B);const E=()=>{let e=(0,l.useContext)(Z);const[a,s]=(0,l.useState)({show:!1,status:!1}),i=(0,l.useRef)(null),[t,n]=(0,l.useState)([]),[c,o]=(0,l.useState)(""),m=(0,l.useRef)(null),[h,u]=(0,l.useState)([{}]),[x,v]=(0,l.useState)(0),g=100*x,j=Math.ceil(h.length/100),p=(0,_.Wx)({initialValues:{service:"",start_price:"",price_per_km:"",price_per_min:"",wait_price_per_min:"",free_wait_time:"",includedCars:""},validate:e=>{const a={};return e.service||(a.service="Required"),e.includedCars||(a.includedCars="Required"),e.start_price||(a.start_price="Required"),e.price_per_km||(a.price_per_km="Required"),e.price_per_min||(a.price_per_min="Required"),e.wait_price_per_min||(a.wait_price_per_min="Required"),e.free_wait_time||(a.free_wait_time="Required"),a},onSubmit:e=>{y()}}),y=()=>{let a={service:p.values.service,includedCars:p.values.includedCars,start_price:p.values.start_price,price_per_km:p.values.price_per_km,price_per_min:p.values.price_per_min,wait_price_per_min:p.values.wait_price_per_min,free_wait_time:p.values.free_wait_time};c||d.A.post("".concat(e.url,"/dashboard/service/"),a,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{z(),s({status:"",show:!1}),p.resetForm()})),c&&d.A.put("".concat(e.url,"/dashboard/service/").concat(c,"/"),a,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{z(),p.resetForm(),s({status:"",show:!1})}))};(0,l.useEffect)((()=>{z()}),[]);const z=()=>{d.A.get("".concat(e.url,"/dashboard/service/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{n(e.data)}))},S=t.slice(g,g+100).map(((a,i)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:i+1}),(0,r.jsx)("td",{children:a.service}),(0,r.jsx)("td",{children:a.includedCars}),(0,r.jsx)("td",{children:a.start_price}),(0,r.jsx)("td",{children:a.price_per_km}),(0,r.jsx)("td",{children:a.price_per_min}),(0,r.jsx)("td",{children:a.wait_price_per_min}),(0,r.jsx)("td",{children:a.free_wait_time}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{onClick:()=>{return s=a.id,void d.A.delete("".concat(e.url,"/dashboard/service/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{z()}));var s},src:"./images/admin/delete.png",alt:""})})}),(0,r.jsx)("td",{}),(0,r.jsx)("div",{className:"edit-icon",children:(0,r.jsx)("img",{onClick:()=>{return o((e=a).id),s({show:!0,status:"edit-driver"}),void p.setValues({service:e.service,start_price:e.start_price,price_per_km:e.price_per_km,price_per_min:e.price_per_min,wait_price_per_min:e.wait_price_per_min,free_wait_time:e.free_wait_time,includedCars:e.includedCars});var e},src:"./images/admin/edit-tools.png",alt:""})})]},i)));return(0,r.jsxs)("div",{className:"service-container",children:[(0,r.jsx)(N.A,{in:a.show,nodeRef:i,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,r.jsx)("div",{className:"modal-sloy",children:(0,r.jsxs)("div",{ref:i,className:"modal-card",children:["add-driver"===a.status&&(0,r.jsxs)("div",{className:"add-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>s({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Tarif qo'shish"}),(0,r.jsx)("div",{className:"title-form",children:"Tarif ma'lumotlari:"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Tarif nomi"}),(0,r.jsxs)(f.A,{error:"Required"===p.errors.service,labelid:"demo-select-small-label",id:"demo-select-small",value:p.values.service,label:"Tarif nomi",name:"service",onChange:p.handleChange,children:[(0,r.jsx)(C.A,{value:"standart",children:"Standart"}),(0,r.jsx)(C.A,{value:"bussiness",children:"Bussiness"}),(0,r.jsx)(C.A,{value:"comfort",children:"Comfort"})]})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.includedCars,value:p.values.includedCars,onChange:p.handleChange,name:"includedCars",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Tarifga kiruvchi mashinalar",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.start_price,value:p.values.start_price,onChange:p.handleChange,name:"start_price",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Boshlash narxi",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.price_per_km,value:p.values.price_per_km,onChange:p.handleChange,name:"price_per_km",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Narx (km)",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.price_per_min,value:p.values.price_per_min,onChange:p.handleChange,name:"price_per_min",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Narx (min)",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.wait_price_per_min,value:p.values.wait_price_per_min,onChange:p.handleChange,name:"wait_price_per_min",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Kutish uchun narx (min)",variant:"outlined",className:"textField"})})]}),(0,r.jsx)("div",{className:"select-box",children:(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.free_wait_time,value:p.values.free_wait_time,onChange:p.handleChange,name:"free_wait_time",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Tekin kutish vaqti",variant:"outlined",className:"textField"})})}),(0,r.jsx)("div",{onClick:y,className:"add-btn",children:"Tarif qo'shish"})]})]}),"edit-driver"===a.status&&(0,r.jsxs)("div",{className:"edit-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>s({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Tarifni tahrirlash"}),(0,r.jsx)("div",{className:"title-form",children:"Tarif ma'lumotlari:"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Tarif nomi"}),(0,r.jsxs)(f.A,{error:"Required"===p.errors.service,labelid:"demo-select-small-label",id:"demo-select-small",value:p.values.service,label:"Tarif nomi",name:"service",onChange:p.handleChange,children:[(0,r.jsx)(C.A,{value:"standart",children:"Standart"}),(0,r.jsx)(C.A,{value:"bussiness",children:"Bussiness"}),(0,r.jsx)(C.A,{value:"comfort",children:"Comfort"})]})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.includedCars,value:p.values.includedCars,onChange:p.handleChange,name:"includedCars",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Tarifga kiruvchi mashinalar",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.start_price,value:p.values.start_price,onChange:p.handleChange,name:"start_price",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Boshlash narxi",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.price_per_km,value:p.values.price_per_km,onChange:p.handleChange,name:"price_per_km",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Narx (km)",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.price_per_min,value:p.values.price_per_min,onChange:p.handleChange,name:"price_per_min",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Narx (min)",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.wait_price_per_min,value:p.values.wait_price_per_min,onChange:p.handleChange,name:"wait_price_per_min",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Kutish uchun narx (min)",variant:"outlined",className:"textField"})})]}),(0,r.jsx)("div",{className:"select-box",children:(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===p.errors.free_wait_time,value:p.values.free_wait_time,onChange:p.handleChange,name:"free_wait_time",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Tekin kutish vaqti",variant:"outlined",className:"textField"})})}),(0,r.jsx)("div",{onClick:y,className:"add-btn",children:"Tasdiqlash"})]})]})]})})}),(0,r.jsx)("div",{className:"header",children:(0,r.jsx)("div",{onClick:()=>{s({show:!0,status:"add-driver"})},className:"add-driver-btn",children:"Tarif qo'shish"})}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u2116"}),(0,r.jsx)("th",{children:"Nomi"}),(0,r.jsx)("th",{children:"Moshinalar"}),(0,r.jsx)("th",{children:"Boshlash narxi"}),(0,r.jsx)("th",{children:"Narx km"}),(0,r.jsx)("th",{children:"Narx min"}),(0,r.jsx)("th",{children:"Kutish narxi min"}),(0,r.jsx)("th",{children:"Tekin kutish vaqti"}),(0,r.jsx)("th",{children:"O'chirish"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:S})]}),(0,r.jsx)("div",{className:"pagination",children:h.length>100?(0,r.jsx)(W(),{breakLabel:"...",previousLabel:(0,r.jsx)("img",{src:"./images/admin/prev.png",alt:""}),nextLabel:(0,r.jsx)("img",{src:"./images/admin/next.png",alt:""}),pageCount:j,onPageChange:e=>{let{selected:a}=e;v(a),setTimeout((()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)},containerClassName:"paginationBttns",previousLinkClassName:"previousBttn",nextLinkClassName:"nextBttn",disabledCalassName:"paginationDisabled",activeClassName:"paginationActive"}):""})]})},Q=()=>{const[e,a]=(0,l.useState)("");let s=(0,l.useContext)(Z);const i=(0,l.useRef)(null),[t,n]=(0,l.useState)([]),[c,o]=(0,l.useState)(0),m=100*c;(0,l.useEffect)((()=>{d.A.get("".concat(s.url,"/dashboard/balance/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{n(e.data)}))}),[]);const h=t.slice(m,m+100).filter((a=>{var s;const i=e.toString().toLowerCase().replace(/\s+/g,"").replace(/\+/g,""),l=null===(s=a.driver_phone)||void 0===s?void 0:s.toString().toLowerCase().replace(/\s+/g,"").replace(/\+/g,"");return""===i||l.includes(i)})).map(((e,a)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:m+a+1}),(0,r.jsx)("td",{className:"driver-wrapper",children:(0,r.jsxs)("div",{className:"text-driver",children:[(0,r.jsx)("div",{className:"name",children:e.driver_name}),(0,r.jsx)("div",{className:"phone",children:e.driver_phone})]})}),(0,r.jsx)("td",{children:e.id_number}),(0,r.jsx)("td",{children:e.fund})]},a))),u=Math.ceil(t.length/100);return(0,r.jsxs)("div",{className:"balance-container",children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("img",{src:"./images/admin/search.png",alt:""}),(0,r.jsx)("input",{onChange:e=>a(e.target.value),placeholder:"Telefon raqam kiriting",type:"text"})]})}),(0,r.jsx)("div",{className:"table-wrapper",children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u2116"}),(0,r.jsx)("th",{children:"Haydovchi"}),(0,r.jsx)("th",{children:"Id raqam"}),(0,r.jsx)("th",{children:"Narx"})]})}),(0,r.jsx)("tbody",{children:h})]})}),(0,r.jsx)("div",{className:"pagination",children:(0,r.jsx)(W(),{breakLabel:"...",previousLabel:(0,r.jsx)("img",{src:"./images/admin/prev.png",alt:""}),nextLabel:(0,r.jsx)("img",{src:"./images/admin/next.png",alt:""}),pageCount:u,onPageChange:e=>{let{selected:a}=e;o(a),setTimeout((()=>{var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)},containerClassName:"paginationBttns",previousLinkClassName:"previousBttn",nextLinkClassName:"nextBttn",disabledCalassName:"paginationDisabled",activeClassName:"paginationActive"})})]})},L=()=>{const{t:e}=(0,v.Bd)();let a=(0,l.useContext)(Z);const[s,i]=(0,l.useState)({show:!1,status:!1}),t=(0,l.useRef)(null),[n,c]=(0,l.useState)(!1),[o,m]=(0,l.useState)(),[h,x]=(0,l.useState)(""),[g,j]=(0,l.useState)([]),[p,_]=(0,l.useState)(""),[b,k]=(0,l.useState)([]),[A,f]=(0,l.useState)([]),[C,y]=(0,l.useState)([]),[z,S]=(0,l.useState)(""),[q,T]=(0,l.useState)(""),[R,I]=(0,l.useState)(""),[F,M]=(0,l.useState)(""),[B,W]=(0,l.useState)(""),[E,Q]=(0,l.useState)(""),[L,Y]=(0,l.useState)([]),[H,P]=(0,l.useState)({}),[V,O]=(0,l.useState)([]),[D,J]=(0,l.useState)(1),K=[],X=V.length;if(X<=7)K.push(...V.map(((e,a)=>a+1)));else{K.push(1),D>3&&K.push("...");for(let e=Math.max(2,D-1);e<=Math.min(X-1,D+1);e++)K.push(e);D<X-2&&K.push("..."),K.push(X)}(0,l.useEffect)((()=>{U(),d.A.get("".concat(a.url,"/dashboard/rejectreson/?admin=true"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{j(e.data)})),d.A.get("".concat(a.url,"/dashboard/order-stats/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{f(e.data)}))}),[]);const U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;c(!0);const i=e||"".concat(a.url,"/dashboard/order/?page=").concat(s);d.A.get(i,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{k(e.data.results),P(e.data.links),O(e.data.links.pages),J(s)})).finally((()=>{c(!1)}))};return(0,r.jsxs)("div",{className:"orders-container",children:[(0,r.jsx)(N.A,{in:s.show,nodeRef:t,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,r.jsx)("div",{className:"modal-sloy",children:(0,r.jsxs)("div",{ref:t,className:"modal-card",children:["car-information"===s.status&&(0,r.jsxs)("div",{className:"car-information",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>i({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Qo'shimcha malumotlar"}),(0,r.jsxs)("div",{className:"information",children:[(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Buyurtma raqami:"}),(0,r.jsx)("div",{className:"text",children:C.id})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Yo'nalish:"}),(0,r.jsx)("div",{className:"text",children:C.car_service.translations[u.Ay.language].name})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Masofa:"}),(0,r.jsxs)("div",{className:"text",children:[C.distance," km"]})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Narx:"}),(0,r.jsxs)("div",{className:"text",children:[C.price," so'm"]})]}),C.end_date&&(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Tugatilgan sana:"}),(0,r.jsx)("div",{className:"text",children:C.end_date})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Olib ketish manzili:"}),(0,r.jsx)("div",{className:"text",children:C.pick_up_locations&&C.pick_up_locations.map(((e,a)=>(0,r.jsxs)("div",{children:[a+1,"- manzil : ",e.address," ",(0,r.jsx)("br",{})]},a)))})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Yekazish manzili:"}),(0,r.jsx)("div",{className:"text",children:C.drop_off_locations&&C.drop_off_locations.map(((e,a)=>(0,r.jsxs)("div",{children:[" ",a+1,"- manzil : ",e.address," ",(0,r.jsx)("br",{})]},a)))})]}),C.extra_services.length>0&&(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Qo'shimcha xizmatlar:"}),(0,r.jsx)("div",{className:"text",children:C.extra_services&&C.extra_services.map(((e,a)=>(0,r.jsx)("div",{children:e.translations[u.Ay.language].name},a)))})]}),"postal"!==C.car_service.service_type&&(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Yo'lovchilar soni:"}),(0,r.jsx)("div",{className:"text",children:C.passanger_count})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"To'lov turi:"}),(0,r.jsxs)("div",{className:"text",children:["cash"===C.payment_type&&"Naqt","card"===C.payment_type&&"Karta"]})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Olib ketish sanasi:"}),(0,r.jsx)("div",{className:"text",children:C.pick_up_date})]}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Barcha o'rindiqlar band qilish:"}),(0,r.jsxs)("div",{className:"text",children:[!0===C.book_all_seats&&"Ha",!1===C.book_all_seats&&"Yo'q"]})]}),"postal"===C.car_service.service_type&&(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"To'lovni kim qiladi:"}),(0,r.jsxs)("div",{className:"text",children:["sender"===C.payer&&"Yuboruvchi","receiver"===C.payer&&"Qabul qilovchi"]})]}),"postal"===C.car_service.service_type&&(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Qabul qlivchi telefon raqami:"}),(0,r.jsx)("div",{className:"text",children:C.receiver_phone})]}),"postal"===C.car_service.service_type&&(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Yuboruvchi telefon raqami:"}),(0,r.jsx)("div",{className:"text",children:C.sender_phone})]}),"rejected"===C.status&&(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Bekor qilish sababi:"}),(0,r.jsx)("div",{className:"text",children:C.rejected_reason.translations[u.Ay.language].name})]}),C.comment_to_driver&&(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Haydovchi uchun izoh:"}),(0,r.jsx)("div",{className:"text",children:C.comment_to_driver})]})]})]}),"change-status"===s.status&&(0,r.jsxs)("div",{className:"change-status",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>i({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Buyurtma bosqichini tanlang"}),(0,r.jsxs)("div",{className:"form-box",children:[(0,r.jsxs)("select",{onChange:e=>m(e.target.value),name:"status",children:[(0,r.jsx)("option",{value:""}),(0,r.jsx)("option",{value:"arrived",children:"Mijozga kelish"}),(0,r.jsx)("option",{value:"picked",children:"Mijozni olish"}),(0,r.jsx)("option",{value:"started",children:"Boshlash"}),(0,r.jsx)("option",{value:"finished",children:"Yakunlash"}),(0,r.jsx)("option",{value:"rejected",children:"Bekor qilish"})]}),"rejected"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:"reason",children:"Bekor qilish sababini tanlang:"}),(0,r.jsxs)("select",{onChange:e=>_(e.target.value),name:"status",id:"reason",children:[(0,r.jsx)("option",{value:""}),g.map(((e,a)=>(0,r.jsx)("option",{value:e.id,children:e.translations[u.Ay.language].name},a)))]})]})]}),(0,r.jsx)("div",{onClick:()=>{d.A.post("".concat(a.url,"/dashboard/order/reject-order/"),{order_id:h,reason_id:p,status:o},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{U(),i({status:"",show:!1})}))},className:"success-btn",children:"Tasdiqlash"})]}),"statistic"===s.status&&(0,r.jsxs)("div",{className:"statistic",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>i({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Buyurtmalar statistikasi"}),(0,r.jsxs)("div",{className:"form-box",children:[(0,r.jsxs)("div",{className:"statistic-box",children:[(0,r.jsx)("div",{className:"name",children:"Umumiy:"}),(0,r.jsx)("div",{className:"num",children:A.total_orders})]}),(0,r.jsxs)("div",{className:"statistic-box",children:[(0,r.jsx)("div",{className:"name",children:"Yakunlangan:"}),(0,r.jsx)("div",{className:"num",children:A.finished_orders})]}),(0,r.jsxs)("div",{className:"statistic-box",children:[(0,r.jsx)("div",{className:"name",children:"Faol:"}),(0,r.jsx)("div",{className:"num",children:A.active_orders})]}),(0,r.jsxs)("div",{className:"statistic-box",children:[(0,r.jsx)("div",{className:"name",children:"Bekor qilingan:"}),(0,r.jsx)("div",{className:"num",children:A.rejected_orders})]}),(0,r.jsxs)("div",{className:"statistic-box",children:[(0,r.jsx)("div",{className:"name",children:"Bugungi buyurtmalar soni:"}),(0,r.jsx)("div",{className:"num",children:A.orders_today})]}),(0,r.jsxs)("div",{className:"statistic-box",children:[(0,r.jsx)("div",{className:"name",children:"Joriy oydagi buyurtmalar soni:"}),(0,r.jsx)("div",{className:"num",children:A.orders_this_month})]})]})]}),"views-drivers"===s.status&&(0,r.jsxs)("div",{className:"views-drivers",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>i({status:"",show:!1}),src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Buyurtmani ko'rgan haydovchilar"}),(0,r.jsx)("div",{className:"information",children:L.map(((e,a)=>{var s,i,l;return(0,r.jsxs)("div",{className:"info",children:[(0,r.jsxs)("div",{className:"left-side",children:[(0,r.jsxs)("div",{className:"fullname",children:[null===(s=e.driver)||void 0===s?void 0:s.first_name," \xa0",null===(i=e.driver)||void 0===i?void 0:i.last_name]}),(0,r.jsx)("div",{className:"phone",children:null===(l=e.driver)||void 0===l?void 0:l.phone})]}),(0,r.jsx)("div",{className:"right-side",children:(0,r.jsx)("div",{className:"time",children:e.viewed_at})})]},a)}))})]})]})})}),(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"left-side",children:[(0,r.jsx)("div",{className:"search-box",children:(0,r.jsx)("input",{value:z,onChange:e=>S(e.target.value),placeholder:"Mijoz tel raqami",type:"text"})}),(0,r.jsx)("div",{className:"search-box",children:(0,r.jsx)("input",{value:q,onChange:e=>T(e.target.value),placeholder:"Haydovchi tel raqami",type:"text"})}),(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("label",{htmlFor:"direction",children:"Yo'nalish:"}),(0,r.jsxs)("select",{value:F,onChange:e=>M(e.target.value),name:"direction",id:"direction",children:[(0,r.jsx)("option",{value:""}),(0,r.jsx)("option",{value:"regional",children:"Taxi"}),(0,r.jsx)("option",{value:"postal",children:"Jo'natma"}),(0,r.jsx)("option",{value:"minivan",children:"Miniven"}),(0,r.jsx)("option",{value:"travel",children:"Sayohat"})]})]}),(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("label",{htmlFor:"tarif",children:"Tarif:"}),(0,r.jsxs)("select",{value:B,onChange:e=>W(e.target.value),name:"tarif",id:"tarif",children:[(0,r.jsx)("option",{value:""}),(0,r.jsx)("option",{value:"standart",children:"Standart"}),(0,r.jsx)("option",{value:"comfort",children:"Komfort"}),(0,r.jsx)("option",{value:"business",children:"Biznes"}),(0,r.jsx)("option",{value:"delivery",children:"Jo'natma"})]})]}),(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("label",{htmlFor:"status",children:"Status:"}),(0,r.jsxs)("select",{value:R,onChange:e=>I(e.target.value),name:"status",id:"status",children:[(0,r.jsx)("option",{value:""}),(0,r.jsx)("option",{value:"rejected",children:"Bekor qilingan"}),(0,r.jsx)("option",{value:"started",children:"Boshlangan"}),(0,r.jsx)("option",{value:"arrived",children:"Mijozga keldi"}),(0,r.jsx)("option",{value:"picked",children:"Mijozni oldi"}),(0,r.jsx)("option",{value:"finished",children:"Yakunlangan"}),(0,r.jsx)("option",{value:"active",children:"Faol"})]})]}),(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("label",{htmlFor:"date",children:"Sana:"}),(0,r.jsx)("input",{value:E,onChange:e=>Q(e.target.value),type:"date"})]}),(0,r.jsx)("div",{onClick:()=>{c(!0);d.A.get("".concat(a.url,"/dashboard/order/?client_phone=").concat(z,"&driver_phone=").concat(q,"&service_type=").concat(F,"&category_type=").concat(B,"&created_date=").concat(E,"&status=").concat(R),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{k(e.data.results),P(e.data.links),O(e.data.links.pages),J(1)})).finally((()=>{c(!1)}))},className:"filter-btn",children:(0,r.jsx)("img",{src:"./images/admin/panel.png",alt:""})})]})}),(0,r.jsxs)("div",{className:"header",children:[(0,r.jsx)("div",{className:"left-side"}),(0,r.jsxs)("div",{onClick:()=>i({show:!0,status:"statistic"}),className:"statisitcs",children:["Statistika",(0,r.jsx)("img",{src:"./images/data-management.png",alt:"a"})]})]}),(0,r.jsx)("div",{className:"wrapper-table",children:n?(0,r.jsx)(w,{}):(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u2116"}),(0,r.jsx)("th",{children:"Mijoz"}),(0,r.jsx)("th",{children:"Haydovchi"}),(0,r.jsx)("th",{children:"Buyurtma berilgan sana"}),(0,r.jsx)("th",{children:"Tarif"}),(0,r.jsx)("th",{children:"Buyurtma narxi"}),(0,r.jsx)("th",{children:"Batafsil ma'lumotlar"}),(0,r.jsx)("th",{children:"Statusni ozgartirish"}),(0,r.jsx)("th",{children:"Ko'rishlar soni"})]})}),(0,r.jsx)("tbody",{children:b.map(((e,a)=>{var s,l,t;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:a+1}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"text-driver",children:[(0,r.jsxs)("div",{className:"name",children:[null===(s=e.client)||void 0===s?void 0:s.first_name," \xa0",null===(l=e.client)||void 0===l?void 0:l.last_name]}),(0,r.jsx)("div",{className:"phone",children:null===(t=e.client)||void 0===t?void 0:t.phone})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"text-driver",children:e.driver&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"name",children:[e.driver.first_name," \xa0",e.driver.last_name]}),(0,r.jsx)("div",{className:"phone",children:e.driver.phone})]})})}),(0,r.jsx)("td",{children:e.created_at}),(0,r.jsx)("td",{children:e.car_category.translations[u.Ay.language].name}),(0,r.jsx)("td",{children:e.discount_price>0?(0,r.jsxs)("div",{className:"discount-pirce",children:[(0,r.jsxs)("div",{className:"main",children:[e.price," so'm"]}),(0,r.jsxs)("div",{className:"discount",children:[e.discount_price," so'm"]})]}):(0,r.jsxs)("div",{children:[e.price," so'm"]})}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{onClick:()=>{y(e),i({show:!0,status:"car-information"})},src:"./images/admin/document.png",alt:""})})}),(0,r.jsx)("td",{children:"rejected"===e.status?(0,r.jsxs)("div",{className:"status-red",children:["Bekor qilingan",(0,r.jsx)("div",{className:"rejected-time",children:e.rejected_time})]}):"finished"===e.status?(0,r.jsx)("div",{className:"status-green",children:"Yakunlangan"}):(0,r.jsxs)("div",{className:"icon",children:[(0,r.jsxs)("div",{className:"status-blue",children:["active"===e.status&&"Faol","started"===e.status&&"Boshlandi","arrived"===e.status&&"Mijozga keldi","accepted"===e.status&&"Haydovchi qabul qildi","picked"===e.status&&"Mijozni oldi"]}),(0,r.jsx)("img",{onClick:()=>{x(e.id),i({show:!0,status:"change-status"})},className:"status-icon",src:"./images/admin/status.png",alt:""})]})}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"views",children:[(0,r.jsx)("div",{className:"num-views",children:e.view_count}),(0,r.jsx)("div",{className:"icon-view",children:(0,r.jsx)("img",{onClick:()=>{Y(e.viewers),i({show:!0,status:"views-drivers"})},src:"./images/admin/view1.png",alt:"view"})})]})})]},a)}))})]})}),(0,r.jsxs)("div",{className:"pagination",children:[(0,r.jsx)("div",{onClick:()=>{D>1&&U(H.previous,D-1)},className:"prev",children:(0,r.jsx)("img",{src:"./images/admin/prev.png",alt:"Prev"})}),K.map(((e,a)=>(0,r.jsx)("div",{onClick:()=>{if("..."!==e){const a=e,s=V.find((e=>e[a])),i=s?s[a]:null;U(i,e)}},className:"items ".concat(D===e?"active":""," "),style:{cursor:"..."===e?"default":"pointer"},children:e},a))),(0,r.jsx)("div",{className:"next",onClick:()=>{D<X&&U(H.next,D+1)},children:(0,r.jsx)("img",{src:"./images/admin/next.png",alt:"Next"})})]})]})},Y=()=>{const{t:e}=(0,v.Bd)();let a=(0,l.useContext)(Z);const[s,t]=(0,l.useState)([]),[n,c]=(0,l.useState)([]),[o,m]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1),[g,j]=(0,l.useState)(""),[p,N]=(0,l.useState)({name_uz:"",name_ru:"",name_en:""});(0,l.useEffect)((()=>{d.A.get("".concat(a.url,"/dashboard/carmake/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t(e.data)}))}),[]);const _=e=>{const{name_uz:s,name_ru:i,name_en:l}=p;if(!(s.trim()&&i.trim()&&l.trim()))return void alert("Iltimos, rang nomini kiriting");const t={uz:{name:s.trim()},ru:{name:i.trim()},en:{name:l.trim()}};"add"===e&&d.A.post("".concat(a.url,"/dashboard/carmodel/"),{make:o,translations:t},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{N({name_uz:"",name_ru:"",name_en:""}),d.A.get("".concat(a.url,"/dashboard/carmake/").concat(o,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{c(e.data)}))})).catch((e=>{console.error("Rang qo'shishda xatolik:",e)})),"edit"===e&&d.A.put("".concat(a.url,"/dashboard/carmodel/").concat(g,"/"),{translations:t},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{N({name_uz:"",name_ru:"",name_en:""}),x(!1),d.A.get("".concat(a.url,"/dashboard/carmake/").concat(o,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{c(e.data)}))})).catch((e=>{console.error("Rangni tahrirlashda xatolik:",e)}))};return(0,r.jsxs)("div",{className:"car-model-wrapper",children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"form-wrapper",children:[(0,r.jsx)("label",{htmlFor:"",children:"Moshina brendini tanlang: "}),(0,r.jsxs)("select",{onChange:e=>{m(e.target.value),d.A.get("".concat(a.url,"/dashboard/carmake/").concat(e.target.value,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{c(e.data)}))},name:"car-brand",id:"car-brand",children:[(0,r.jsx)("option",{value:""}),s.map((e=>(0,r.jsx)("option",{value:e.id,children:e.translations[u.Ay.language].name},e.id)))]}),(0,r.jsx)("input",{value:p.name_uz,onChange:e=>N((0,i.A)((0,i.A)({},p),{},{name_uz:e.target.value})),placeholder:"Avtomobil nomi (uz)...",type:"text"}),(0,r.jsx)("input",{value:p.name_en,onChange:e=>N((0,i.A)((0,i.A)({},p),{},{name_en:e.target.value})),placeholder:"Car name (en)...",type:"text"}),(0,r.jsx)("input",{value:p.name_ru,onChange:e=>N((0,i.A)((0,i.A)({},p),{},{name_ru:e.target.value})),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f (ru)...",type:"text"}),h?(0,r.jsx)("div",{onClick:()=>_("edit"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/checkmark.png",alt:""})}):(0,r.jsx)("div",{onClick:()=>_("add"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/add.png",alt:""})})]})}),(0,r.jsx)("div",{className:"colors-cards",children:(0,r.jsx)("div",{className:"wrapper-box",children:n.map(((e,s)=>(0,r.jsxs)("div",{className:"color-card",children:[(0,r.jsx)("div",{className:"name",children:e.translations[u.Ay.language].name}),(0,r.jsxs)("div",{className:"bttons",children:[(0,r.jsx)("div",{onClick:()=>(e=>{x(!0),j(e.id),N({name_uz:e.translations.uz.name||"",name_ru:e.translations.ru.name||"",name_en:e.translations.en.name||""})})(e),className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/edit-tools.png",alt:""})}),(0,r.jsx)("div",{onClick:()=>{return s=e.id,void d.A.delete("".concat(a.url,"/dashboard/carmodel/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{N({name_uz:"",name_ru:"",name_en:""}),d.A.get("".concat(a.url,"/dashboard/carmake/").concat(o,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{c(e.data)})),x(!1)}));var s},className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:""})})]})]},s)))})})]})},H=()=>{let e=(0,l.useContext)(Z);const a=(0,l.useRef)(null),[s,i]=(0,l.useState)([]),[t,n]=(0,l.useState)(""),[c,o]=(0,l.useState)(0),m=100*c,[h,u]=(0,l.useState)([]),x=Math.ceil(s.length/100);(0,l.useEffect)((()=>{d.A.get("".concat(e.url,"/dashboard/payment/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{console.log(e.data),i(e.data)}))}),[]);const v=s.slice(m,m+100).filter((e=>{const a=t.toString().toLowerCase().replace(/\s+/g,"").replace(/\+/g,""),s=e.balance_id.toString().toLowerCase().replace(/\s+/g,"").replace(/\+/g,"");return""===a||s.includes(a)})).map(((e,a)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:m+a+1}),(0,r.jsx)("td",{children:e.balance_id}),(0,r.jsx)("td",{children:e.amount}),(0,r.jsx)("td",{children:e.status}),(0,r.jsx)("td",{children:e.payment_operator}),(0,r.jsx)("td",{children:e.updated_at}),(0,r.jsx)("td",{children:e.reason})]},a)));return(0,r.jsxs)("div",{className:"payment-container",children:[(0,r.jsxs)("div",{className:"header",children:[(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)("img",{src:"./images/admin/search.png",alt:""}),(0,r.jsx)("input",{onChange:e=>n(e.target.value),placeholder:"ID kiritng",type:"text"})]}),(0,r.jsx)("div",{className:"statisitcs"})]}),(0,r.jsx)("div",{className:"wrapper-table",children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u2116"}),(0,r.jsx)("th",{children:"Balans id"}),(0,r.jsx)("th",{children:"Miqdor"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"To'lov turi"}),(0,r.jsx)("th",{children:"To'lov sanasi"}),(0,r.jsx)("th",{children:"Sabab"})]})}),(0,r.jsx)("tbody",{children:v})]})}),(0,r.jsx)("div",{className:"pagination",children:(0,r.jsx)(W(),{breakLabel:"...",previousLabel:(0,r.jsx)("img",{src:"./images/admin/prev.png",alt:""}),nextLabel:(0,r.jsx)("img",{src:"./images/admin/next.png",alt:""}),pageCount:x,onPageChange:e=>{let{selected:s}=e;o(s),setTimeout((()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)},containerClassName:"paginationBttns",previousLinkClassName:"previousBttn",nextLinkClassName:"nextBttn",disabledCalassName:"paginationDisabled",activeClassName:"paginationActive"})})]})},P=()=>{let e=(0,l.useContext)(Z);const[a,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[x,v]=(0,l.useState)({name_uz:"",name_ru:"",name_en:""}),g=a=>{o(a),d.A.get("".concat(e.url,"/dashboard/rejectreson/?type=").concat(a),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{s(e.data)}))},j=a=>{const{name_uz:s,name_ru:i,name_en:l}=x;if(!(s.trim()&&i.trim()&&l.trim()))return void alert("Iltimos, rang nomini kiriting");const t={uz:{name:s.trim()},ru:{name:i.trim()},en:{name:l.trim()}};"add"===a&&d.A.post("".concat(e.url,"/dashboard/rejectreson/"),{type:c,translations:t},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{v({name_uz:"",name_ru:"",name_en:""}),g()})).catch((e=>{console.error("Rang qo'shishda xatolik:",e)})),"edit"===a&&d.A.put("".concat(e.url,"/dashboard/rejectreson/").concat(m,"/"),{type:c,translations:t},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{v({name_uz:"",name_ru:"",name_en:""}),g(),n(!1)})).catch((e=>{console.error("Rangni tahrirlashda xatolik:",e)}))};return(0,r.jsxs)("div",{className:"reject-reason-wrapper",children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"form-wrapper",children:[(0,r.jsx)("label",{htmlFor:"status",children:"Moshina brendini tanlang: "}),(0,r.jsxs)("select",{onChange:e=>g(e.target.value),name:"status",id:"status",children:[(0,r.jsx)("option",{value:""}),(0,r.jsx)("option",{value:"driver",children:"Haydovchi"}),(0,r.jsx)("option",{value:"client",children:"Mijoz"}),(0,r.jsx)("option",{value:"admin",children:"Admin"})]}),(0,r.jsx)("input",{value:x.name_uz,onChange:e=>v((0,i.A)((0,i.A)({},x),{},{name_uz:e.target.value})),placeholder:"Sabab nomi (uz)...",type:"text"}),(0,r.jsx)("input",{value:x.name_en,onChange:e=>v((0,i.A)((0,i.A)({},x),{},{name_en:e.target.value})),placeholder:"Reason name (en)...",type:"text"}),(0,r.jsx)("input",{value:x.name_ru,onChange:e=>v((0,i.A)((0,i.A)({},x),{},{name_ru:e.target.value})),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b (ru)...",type:"text"}),t?(0,r.jsx)("div",{onClick:()=>j("edit"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/checkmark.png",alt:""})}):(0,r.jsx)("div",{onClick:()=>j("add"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/add.png",alt:""})})]})}),(0,r.jsx)("div",{className:"colors-cards",children:(0,r.jsx)("div",{className:"wrapper-box",children:a.map(((a,s)=>(0,r.jsxs)("div",{className:"color-card",children:[(0,r.jsx)("div",{className:"name",children:a.translations[u.Ay.language].name}),(0,r.jsxs)("div",{className:"bttons",children:[(0,r.jsx)("div",{onClick:()=>(e=>{n(!0),h(e.id),v({name_uz:e.translations.uz.name||"",name_ru:e.translations.ru.name||"",name_en:e.translations.en.name||""})})(a),className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/edit-tools.png",alt:""})}),(0,r.jsx)("div",{onClick:()=>{return s=a.id,void d.A.delete("".concat(e.url,"/dashboard/rejectreson/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{v({name_uz:"",name_ru:"",name_en:""}),g(),n(!1)}));var s},className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:""})})]})]},s)))})})]})},V=()=>{const{t:e}=(0,v.Bd)();let a=(0,l.useContext)(Z);const[s,t]=(0,l.useState)([]),[n,c]=(0,l.useState)(!1),[o,m]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1),[g,j]=(0,l.useState)(""),[p,N]=(0,l.useState)({name_uz:"",name_ru:"",name_en:""}),_=()=>{d.A.get("".concat(a.url,"/dashboard/extraservices/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{t(e.data)}))};(0,l.useEffect)((()=>{_()}),[]);const b=e=>{const{name_uz:s,name_ru:i,name_en:l}=p;if(!(s.trim()&&i.trim()&&l.trim()))return void alert("Iltimos, formani toldiring");const t={uz:{name:s.trim()},ru:{name:i.trim()},en:{name:l.trim()}};"add"===e&&d.A.post("".concat(a.url,"/dashboard/extraservices/"),{is_main:h,price:g,translations:t},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{N({name_uz:"",name_ru:"",name_en:""}),x(!1),j(""),_()})).catch((e=>{console.error("Xizmat qo'shishda xatolik:",e)})),"edit"===e&&d.A.put("".concat(a.url,"/dashboard/extraservices/").concat(o,"/"),{is_main:h,price:g,translations:t},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{N({name_uz:"",name_ru:"",name_en:""}),_(),c(!1),x(!1),j("")})).catch((e=>{console.error("Rangni tahrirlashda xatolik:",e)}))};return(0,r.jsxs)("div",{className:"extra-services-wrapper",children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"form-wrapper",children:[(0,r.jsxs)("label",{htmlFor:"ismain",className:"ismain",children:[(0,r.jsx)("div",{className:"name",children:"Asosiymi?"}),(0,r.jsx)("input",{type:"checkbox",checked:h,id:"ismain",onChange:()=>{x(!h)}})]}),(0,r.jsx)("input",{value:g,onChange:e=>j(e.target.value),placeholder:"Narx",type:"number"}),(0,r.jsx)("input",{value:p.name_uz,onChange:e=>N((0,i.A)((0,i.A)({},p),{},{name_uz:e.target.value})),placeholder:"Xizmat nomi (uz)...",type:"text"}),(0,r.jsx)("input",{value:p.name_en,onChange:e=>N((0,i.A)((0,i.A)({},p),{},{name_en:e.target.value})),placeholder:"Price name (en)...",type:"text"}),(0,r.jsx)("input",{value:p.name_ru,onChange:e=>N((0,i.A)((0,i.A)({},p),{},{name_ru:e.target.value})),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 (ru)...",type:"text"}),n?(0,r.jsx)("div",{onClick:()=>b("edit"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/checkmark.png",alt:""})}):(0,r.jsx)("div",{onClick:()=>b("add"),className:"add-color",children:(0,r.jsx)("img",{src:"./images/admin/add.png",alt:""})})]})}),(0,r.jsx)("div",{className:"colors-cards",children:(0,r.jsx)("div",{className:"wrapper-box",children:s.map(((e,s)=>(0,r.jsxs)("div",{className:"color-card ".concat(e.is_main&&"ismain"),children:[(0,r.jsxs)("div",{className:"name",children:[e.translations[u.Ay.language].name,": ",e.price," so'm"]}),(0,r.jsxs)("div",{className:"bttons",children:[(0,r.jsx)("div",{onClick:()=>{return a=e,c(!0),m(a.id),N({name_uz:a.translations.uz.name||"",name_ru:a.translations.ru.name||"",name_en:a.translations.en.name||""}),x(a.is_main),void j(a.price);var a},className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/edit-tools.png",alt:""})}),(0,r.jsx)("div",{onClick:()=>{return s=e.id,void d.A.delete("".concat(a.url,"/dashboard/extraservices/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{N({name_uz:"",name_ru:"",name_en:""}),_(),c(!1)}));var s},className:"btn",children:(0,r.jsx)("img",{src:"./images/admin/delete.png",alt:""})})]})]},s)))})})]})},O=()=>{const[e,a]=(0,l.useState)(!1);let s=(0,l.useContext)(Z);const[i,t]=(0,l.useState)({show:!1,status:!1}),n=(0,l.useRef)(null),[c,o]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),[x,v]=(0,l.useState)([]),[g,j]=(0,l.useState)([]),[p,y]=(0,l.useState)(""),[z,S]=(0,l.useState)(""),[q,T]=(0,l.useState)(""),[R,I]=(0,l.useState)(""),[F,M]=(0,l.useState)(""),B=(0,_.Wx)({initialValues:{car_service:"",car_category:"",from_region:"",to_region:"",price:""},validate:e=>{const a={};return e.car_service||(a.car_service="Required"),e.car_category||(a.car_category="Required"),e.from_region||(a.from_region="Required"),e.to_region||(a.to_region="Required"),e.price||(a.price="Required"),a},onSubmit:e=>{D()}}),[W,E]=(0,l.useState)({}),[Q,L]=(0,l.useState)([]),[Y,H]=(0,l.useState)(1),P=[],V=Q.length;if(V<=7)P.push(...Q.map(((e,a)=>a+1)));else{P.push(1),Y>3&&P.push("...");for(let e=Math.max(2,Y-1);e<=Math.min(V-1,Y+1);e++)P.push(e);Y<V-2&&P.push("..."),P.push(V)}const O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a(!0);const l=e||"".concat(s.url,"/dashboard/price/?page=").concat(i);d.A.get(l,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{j(e.data.results),E(e.data.links),L(e.data.links.pages),H(i)})).finally((()=>{a(!1)}))},D=()=>{let e={service:B.values.car_service,category:B.values.car_category,from_region:B.values.from_region,to_region:B.values.to_region,cost:Number(B.values.price)};p||d.A.post("".concat(s.url,"/dashboard/price/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{O(null,Y),t({status:"",show:!1}),B.resetForm()})),p&&d.A.put("".concat(s.url,"/dashboard/price/").concat(p,"/"),e,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{O(null,Y),t({status:"",show:!1}),B.resetForm(),y("")}))};(0,l.useEffect)((()=>{O(),d.A.get("".concat(s.url,"/dashboard/region/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{v(e.data)})),d.A.get("".concat(s.url,"/dashboard/carcategory/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{h(e.data)})),d.A.get("".concat(s.url,"/dashboard/carservice/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{o(e.data)}))}),[]);return(0,r.jsxs)("div",{className:"price-container",children:[(0,r.jsx)(N.A,{in:i.show,nodeRef:n,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,r.jsx)("div",{className:"modal-sloy",children:(0,r.jsxs)("div",{ref:n,className:"modal-card",children:["add-driver"===i.status&&(0,r.jsxs)("div",{className:"add-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{t({status:"",show:!1}),B.resetForm()},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Narx qo'shish"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Yo'nalish"}),(0,r.jsx)(f.A,{error:"Required"===B.errors.car_service,labelid:"demo-select-small-label",id:"demo-select-small",value:B.values.car_service,label:"Yo'nalish",name:"car_service",onChange:B.handleChange,children:c.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Tarif"}),(0,r.jsx)(f.A,{error:"Required"===B.errors.car_category,labelid:"demo-select-small-label",id:"demo-select-small",value:B.values.car_category,label:"Tarif",name:"car_category",onChange:B.handleChange,children:m.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerdan"}),(0,r.jsx)(f.A,{error:"Required"===B.errors.from_region,labelid:"demo-select-small-label",id:"demo-select-small",value:B.values.from_region,label:"Qayerdan",name:"from_region",onChange:B.handleChange,children:x.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerga"}),(0,r.jsx)(f.A,{error:"Required"===B.errors.to_region,labelid:"demo-select-small-label",id:"demo-select-small",value:B.values.to_region,label:"Qayerga",name:"to_region",onChange:B.handleChange,children:x.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})})]}),(0,r.jsx)("div",{className:"select-box",children:(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===B.errors.price,value:B.values.price,onChange:B.handleChange,name:"price",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Narxi",variant:"outlined",className:"textField"})})}),(0,r.jsx)("div",{onClick:D,className:"add-btn",children:"Narx qo'shish"})]})]}),"edit-driver"===i.status&&(0,r.jsxs)("div",{className:"add-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{t({status:"",show:!1}),B.resetForm(),y("")},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Narxni tahrirlash"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Yo'nalish"}),(0,r.jsx)(f.A,{error:"Required"===B.errors.car_service,labelid:"demo-select-small-label",id:"demo-select-small",value:B.values.car_service,label:"Yo'nalish",name:"car_service",onChange:B.handleChange,children:c.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Tarif"}),(0,r.jsx)(f.A,{error:"Required"===B.errors.car_category,labelid:"demo-select-small-label",id:"demo-select-small",value:B.values.car_category,label:"Tarif",name:"car_category",onChange:B.handleChange,children:m.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerdan"}),(0,r.jsx)(f.A,{error:"Required"===B.errors.from_region,labelid:"demo-select-small-label",id:"demo-select-small",value:B.values.from_region,label:"Qayerdan",name:"from_region",onChange:B.handleChange,children:x.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerga"}),(0,r.jsx)(f.A,{error:"Required"===B.errors.to_region,labelid:"demo-select-small-label",id:"demo-select-small",value:B.values.to_region,label:"Qayerga",name:"to_region",onChange:B.handleChange,children:x.map(((e,a)=>(0,r.jsx)(C.A,{value:e.id,children:e.translations[u.Ay.language].name},a)))})]})})]}),(0,r.jsx)("div",{className:"select-box",children:(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===B.errors.price,value:B.values.price,onChange:B.handleChange,name:"price",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Narxi",variant:"outlined",className:"textField"})})}),(0,r.jsx)("div",{onClick:D,className:"add-btn",children:"Saqlash"})]})]})]})})}),(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"filter-form",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Yo'nalish"}),(0,r.jsxs)(f.A,{labelid:"demo-select-small-label",id:"demo-select-small",value:F,label:"Qayerga",name:"service",onChange:e=>M(e.target.value),children:[(0,r.jsx)(C.A,{value:"",children:"-- Barchasi --"}),c.map(((e,a)=>(0,r.jsx)(C.A,{value:e.service_type,children:e.translations[u.Ay.language].name},a)))]})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Tarif"}),(0,r.jsxs)(f.A,{labelid:"demo-select-small-label",id:"demo-select-small",value:R,label:"Tarif",name:"car_category",onChange:e=>I(e.target.value),children:[(0,r.jsx)(C.A,{value:"",children:"-- Barchasi --"}),m.map(((e,a)=>(0,r.jsx)(C.A,{value:e.category_type,children:e.translations[u.Ay.language].name},a)))]})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerdan"}),(0,r.jsxs)(f.A,{labelid:"demo-select-small-label",id:"demo-select-small",value:z,label:"Qayerdan",name:"from",onChange:e=>S(e.target.value),children:[(0,r.jsx)(C.A,{value:"",children:"-- Barchasi --"}),x.map(((e,a)=>(0,r.jsx)(C.A,{value:e.code,children:e.translations[u.Ay.language].name},a)))]})]})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsxs)(k.A,{sx:{m:1,minWidth:"100%"},size:"small",className:"selectMui",children:[(0,r.jsx)(A.A,{id:"demo-select-large-label",children:"Qayerga"}),(0,r.jsxs)(f.A,{labelid:"demo-select-small-label",id:"demo-select-small",value:q,label:"Qayerga",name:"to",onChange:e=>T(e.target.value),children:[(0,r.jsx)(C.A,{value:"",children:"-- Barchasi --"}),x.map(((e,a)=>(0,r.jsx)(C.A,{value:e.code,children:e.translations[u.Ay.language].name},a)))]})]})}),(0,r.jsx)("div",{className:"update-driver",children:(0,r.jsx)("img",{onClick:()=>{a(!0);d.A.get("".concat(s.url,"/dashboard/price/?service=").concat(F,"&category=").concat(R,"&from_region=").concat(z,"&to_region=").concat(q),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{j(e.data.results),E(e.data.links),L(e.data.links.pages),H(1)})).finally((()=>{a(!1)}))},src:"./images/admin/panel.png",alt:"changes"})})]})}),e?(0,r.jsx)(w,{}):(0,r.jsx)("div",{className:"table-wrapper",children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u2116"}),(0,r.jsx)("th",{children:"Yo'nalish"}),(0,r.jsx)("th",{children:"Tarif"}),(0,r.jsx)("th",{children:"Qayerdan"}),(0,r.jsx)("th",{children:"Qayerga"}),(0,r.jsx)("th",{children:"Narx"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:g.map(((e,a)=>{var s,i,l,n,c,d,o,m;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:a+1}),(0,r.jsx)("td",{children:null===(s=e.service.translations)||void 0===s||null===(i=s[u.Ay.language])||void 0===i?void 0:i.name}),(0,r.jsx)("td",{children:null===(l=e.category.translations)||void 0===l||null===(n=l[u.Ay.language])||void 0===n?void 0:n.name}),(0,r.jsx)("td",{children:null===(c=e.from_region.translations)||void 0===c||null===(d=c[u.Ay.language])||void 0===d?void 0:d.name}),(0,r.jsx)("td",{children:null===(o=e.to_region.translations)||void 0===o||null===(m=o[u.Ay.language])||void 0===m?void 0:m.name}),(0,r.jsx)("td",{children:e.cost}),(0,r.jsx)("td",{}),(0,r.jsx)("div",{className:"edit-icon",children:(0,r.jsx)("img",{onClick:()=>(e=>{y(e.id),t({show:!0,status:"edit-driver"}),B.setValues({car_service:e.service.id,car_category:e.category.id,from_region:e.from_region.id,to_region:e.to_region.id,price:e.cost})})(e),src:"./images/admin/edit-tools.png",alt:""})})]},a)}))})]})}),(0,r.jsxs)("div",{className:"pagination",children:[(0,r.jsx)("div",{onClick:()=>{Y>1&&O(W.previous,Y-1)},className:"prev",children:(0,r.jsx)("img",{src:"./images/admin/prev.png",alt:"Prev"})}),P.map(((e,a)=>(0,r.jsx)("div",{onClick:()=>{if("..."!==e){const a=e,s=Q.find((e=>e[a])),i=s?s[a]:null;O(i,e)}},className:"items ".concat(Y===e?"active":""," "),style:{cursor:"..."===e?"default":"pointer"},children:e},a))),(0,r.jsx)("div",{className:"next",onClick:()=>{Y<V&&O(W.next,Y+1)},children:(0,r.jsx)("img",{src:"./images/admin/next.png",alt:"Next"})})]})]})};var D=s(802);const J=()=>{const{t:e}=(0,v.Bd)();let a=(0,l.useContext)(Z);const[s,i]=(0,l.useState)({show:!1,status:!1}),t=(0,l.useRef)(null),[n,c]=(0,l.useState)(""),[o,m]=(0,l.useState)(!1),[h,x]=(0,l.useState)([]),g=(0,_.Wx)({initialValues:{title_uz:"",title_ru:"",title_en:"",content_uz:"",content_ru:"",content_en:""},validate:e=>{const a={};return e.title_uz||(a.title_uz="Required"),e.title_ru||(a.title_ru="Required"),e.title_en||(a.title_en="Required"),e.content_uz||(a.content_uz="Required"),e.content_ru||(a.content_ru="Required"),e.content_en||(a.content_en="Required"),a},onSubmit:e=>{p()}}),j=()=>{d.A.get("".concat(a.url,"/dashboard/news/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{x(e.data)}))};(0,l.useEffect)((()=>{j()}),[]);const p=()=>{const e={uz:{title:g.values.title_uz,content:g.values.content_uz},ru:{title:g.values.title_ru,content:g.values.content_ru},en:{title:g.values.title_en,content:g.values.content_en}};n||d.A.post("".concat(a.url,"/dashboard/news/"),{translations:e},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i({status:"",show:!1}),g.resetForm(),j()})),n&&d.A.patch("".concat(a.url,"/dashboard/news/").concat(n,"/"),{translations:e},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{i({status:"",show:!1}),g.resetForm(),j()}))};return(0,r.jsxs)("div",{className:"clients-container",children:[(0,r.jsx)(N.A,{in:s.show,nodeRef:t,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,r.jsx)("div",{className:"modal-sloy",children:(0,r.jsxs)("div",{ref:t,className:"modal-card",children:["add-driver"===s.status&&(0,r.jsxs)("div",{className:"add-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{i({status:"",show:!1}),g.resetForm()},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Yangilik qoshish"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===g.errors.title_uz,value:g.values.title_uz,onChange:g.handleChange,name:"title_uz",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Sarlavha",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===g.errors.title_en,value:g.values.title_en,onChange:g.handleChange,name:"title_en",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Title",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===g.errors.title_ru,value:g.values.title_ru,onChange:g.handleChange,name:"title_ru",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(D.A,{error:"Required"===g.errors.content_uz,value:g.values.content_uz,onChange:g.handleChange,sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",name:"content_uz","aria-label":"minimum height",minRows:3,variant:"outlined",className:"textField",placeholder:"Tavsif"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(D.A,{error:"Required"===g.errors.content_ru,value:g.values.content_ru,onChange:g.handleChange,sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",name:"content_ru","aria-label":"minimum height",minRows:3,variant:"outlined",className:"textField",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(D.A,{error:"Required"===g.errors.content_en,value:g.values.content_en,onChange:g.handleChange,sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",name:"content_en","aria-label":"minimum height",minRows:3,variant:"outlined",className:"textField",placeholder:"Description"})})]})]}),(0,r.jsx)("div",{onClick:()=>{g.handleSubmit()},className:"add-btn",children:"Qo'shish"})]}),"edit-driver"===s.status&&(0,r.jsxs)("div",{className:"add-driver",children:[(0,r.jsx)("div",{className:"cancel-btn",children:(0,r.jsx)("img",{onClick:()=>{i({status:"",show:!1}),g.resetForm()},src:"./images/admin/x.png",alt:""})}),(0,r.jsx)("div",{className:"title",children:"Yangilikni tahrirlash"}),(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===g.errors.title_uz,value:g.values.title_uz,onChange:g.handleChange,name:"title_uz",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Sarlavha",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===g.errors.title_en,value:g.values.title_en,onChange:g.handleChange,name:"title_en",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"Title",variant:"outlined",className:"textField"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(b.A,{error:"Required"===g.errors.title_ru,value:g.values.title_ru,onChange:g.handleChange,name:"title_ru",type:"text",sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",variant:"outlined",className:"textField"})})]}),(0,r.jsxs)("div",{className:"select-box",children:[(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(D.A,{error:"Required"===g.errors.content_uz,value:g.values.content_uz,onChange:g.handleChange,sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",name:"content_uz","aria-label":"minimum height",minRows:3,variant:"outlined",className:"textField",placeholder:"Tavsif"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(D.A,{error:"Required"===g.errors.content_ru,value:g.values.content_ru,onChange:g.handleChange,sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",name:"content_ru","aria-label":"minimum height",minRows:3,variant:"outlined",className:"textField",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})}),(0,r.jsx)("div",{className:"select-sides",children:(0,r.jsx)(D.A,{error:"Required"===g.errors.content_en,value:g.values.content_en,onChange:g.handleChange,sx:{m:1,minWidth:"100%"},size:"small",id:"outlined-basic",name:"content_en","aria-label":"minimum height",minRows:3,variant:"outlined",className:"textField",placeholder:"Description"})})]})]}),(0,r.jsx)("div",{onClick:()=>{g.handleSubmit()},className:"add-btn",children:"Tahrirlash"})]})]})})}),(0,r.jsxs)("div",{className:"header",children:[(0,r.jsx)("div",{className:"left-side"}),(0,r.jsx)("div",{onClick:()=>{i({show:!0,status:"add-driver"})},className:"add-driver-btn",children:"Yangilik qo'shish"})]}),(0,r.jsx)("div",{className:"table-wrapper",children:o?(0,r.jsx)(w,{}):(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u2116"}),(0,r.jsx)("th",{children:"Yangilik nomi"}),(0,r.jsx)("th",{children:"Batafsil"}),(0,r.jsx)("th",{children:"O'chirish"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:h.map(((e,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:s+1}),(0,r.jsx)("td",{children:e.translations[u.Ay.language].title}),(0,r.jsx)("td",{children:e.translations[u.Ay.language].content}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("img",{onClick:()=>{return s=e.id,m(!0),void(window.confirm("Rostdan ham ushbu yangilikni o\u2018chirmoqchimisiz?")?d.A.delete("".concat(a.url,"/dashboard/news/").concat(s,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{j()})).catch((e=>{console.log(e)})).finally((()=>{m(!1)})):m(!1));var s},src:"./images/admin/delete.png",alt:""})})}),(0,r.jsx)("td",{}),(0,r.jsx)("div",{className:"edit-icon",children:(0,r.jsx)("img",{onClick:()=>{var a;i({show:!0,status:"edit-driver"}),a=e,g.setValues({title_uz:a.translations.uz.title,title_ru:a.translations.ru.title,title_en:a.translations.en.title,content_uz:a.translations.uz.content,content_ru:a.translations.ru.content,content_en:a.translations.en.content}),c(a.id)},src:"./images/admin/edit-tools.png",alt:""})})]},s)))})]})}),(0,r.jsx)("div",{className:"pagination"})]})},K=[{path:"/*",element:(0,r.jsx)(g,{})},{path:"/",element:(0,r.jsx)(p,{})}],X=[{path:"/dashboard",element:(0,r.jsx)(m,{})},{path:"/drivers",element:(0,r.jsx)(T,{})},{path:"/clients",element:(0,r.jsx)(I,{})},{path:"/chat-drivers",element:(0,r.jsx)(R,{})},{path:"/colors",element:(0,r.jsx)(F,{})},{path:"/car-brands",element:(0,r.jsx)(M,{})},{path:"/car-models",element:(0,r.jsx)(Y,{})},{path:"/service",element:(0,r.jsx)(E,{})},{path:"/balance",element:(0,r.jsx)(Q,{})},{path:"/orders",element:(0,r.jsx)(L,{})},{path:"/payment",element:(0,r.jsx)(H,{})},{path:"/reject-reason",element:(0,r.jsx)(P,{})},{path:"/extra-services",element:(0,r.jsx)(V,{})},{path:"/price",element:(0,r.jsx)(O,{})},{path:"/news",element:(0,r.jsx)(J,{})}],U=()=>(0,r.jsx)("div",{className:"not-found-wrapper",children:(0,r.jsx)("div",{className:"sloy",children:(0,r.jsxs)("div",{className:"text1",children:[(0,r.jsx)("div",{className:"error",children:"error 404"}),(0,r.jsx)("div",{className:"text",children:"Page not found"})]})})}),Z=(0,l.createContext)();const G=function(){const[e,a]=(0,l.useState)("https://api.adataxi.uz");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Z.Provider,{value:{url:e},children:(0,r.jsxs)(t.BV,{children:[K.map(((e,a)=>(0,r.jsx)(t.qh,(0,i.A)({},e),a))),(0,r.jsx)(t.qh,{path:"*",element:(0,r.jsx)(U,{})})]})})})}}}]);
//# sourceMappingURL=8.df292dc4.chunk.js.map